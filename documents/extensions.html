<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">
<title>File names and extensions in AkashaCMS</title>
<meta name="pagename" content="File names and extensions in AkashaCMS">
<meta name="date" content="Wed Apr 05 2017 15:18:42 GMT-0700 (PDT)">
<meta name="DC.title" content="File names and extensions in AkashaCMS">
<meta name="og:title" content="File names and extensions in AkashaCMS">
<meta name="og:url" content="https://akashacms.com/documents/extensions.html">
<link rel="canonical" href="https://akashacms.com/documents/extensions.html">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="stylesheet" type="text/css" href="/akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap-theme.min.css"><link rel="stylesheet" type="text/css" href="/readable.min.css"><link rel="stylesheet" type="text/css" href="/style.css">
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=234745903279111";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@akashacms">
<meta name="twitter:creator" content="@7genblogger">
<meta name="twitter:url" content="https://akashacms.com/documents/extensions.html">
<meta name="twitter:title" content="File names and extensions in AkashaCMS">
<meta name="twitter:image" content="http://akashacms.com/logo.gif">
</head>
<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
<button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<div class="navbar-collapse collapse navHeaderCollapse">
<ul class="nav navbar-nav navbar-rights">
<li><a href="/index.html">Home</a></li>
<li><a href="/install.html">Installation</a></li>
<li><a href="/configuration/index.html">Configuration</a></li>
<li><a href="/documents/index.html">Documents</a></li>
<li><a href="/plugins/index.html">Plugins</a></li>
<li><a href="/plugins/epub.html">AkashaEPUB</a></li>
<li><a href="/layout/index.html">Layouts</a></li>
<li><a href="/theming/index.html">Theming</a></li>
<li><a href="/deployment/index.html">Deployment</a></li>
<li><a href="/command-line/index.html">Command Line</a></li>
<li><a href="/howto/index.html">Tutorials</a></li>
<li><a href="/news/index.html">Blog</a></li>
<li><a href="/about.html">About</a></li>
</ul>
</div>
</div>
<div class="container" role="main">
<div class="row">
<header class="col-md-12">
<div class="row">
<span class="col-md-8" style="text-align: center">
<a href="/index.html"><img src="/logo.gif" align="left"></a>
<h1 align="center">File names and extensions in AkashaCMS</h1>
</span>
<span class="col-md-4">
<form action="//www.google.com" id="cse-search-box">
<div>
<input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
<input type="hidden" name="ie" value="UTF-8">
<input type="text" name="q" size="30">
<input type="submit" name="sa" value="Search">
</div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
// Not empty
</script>
<br>
</span>
</div>
</header>
</div>
<div class="row">
<div class="col-md-10">
<div class="row">
<section id="breadcrumb" class="col-sm-12">
<div id="breadcrumbTrail">
<ol class="breadcrumb">
<li> <a href="/index.html">AkashaCMS - the powerful static file CMS to build your dream website</a> </li> <li> <a href="/documents/index.html">AkashaCMS documents</a> </li> <li> <a href="/documents/extensions.html">File names and extensions in AkashaCMS</a> </li>
</ol>
</div>
</section>
<section id="category-tags" class="col-sm-12">
By: <author-link></author-link> Date: Jan 1, 2015
</section>
</div>
<div class="row">
<article class="col-sm-10">
<p>AkashaCMS uses the file name extensions to determine how to process each document, layout or partial.</p>
<p>The general concept is that each document has its base name (xyzzy.html) and for documents requiring special processing (say, Markdown rendering) we append a second extension to the file name documenting that processing. For example, <code>xyzzy.html.md</code> says to process the file first with Markdown, then with <a href="mahabhuta.html">the Mahabhuta engine</a>. The result is <code>xyzzy.html</code>.</p>
<p>That&apos;s a &quot;renderChain&quot;, or a chain of processing steps for a given file extension.</p>
<p>The extensions recognized are for files in <code>root_documents</code> and <code>root_layouts</code> directories are:</p>
<ul>
<li><code>php</code> - for PHP files - must be <code>xyzzy.php</code> or <code>xyzzy.php.ejs</code> (see <a href="php-documents.html">PHP files in Akashacms</a> for instructions)</li>
<li><code>html</code> - for HTML files - must be <code>xyzzy.html(.other.extensions)</code></li>
<li><code>ejs</code> - Process with EJS - must be either <code>xyzzy.html.ejs</code> or <code>xyzzy.html.ejs.md</code> - the latter processes first with Markdown, then with EJS - <a href="https://github.com/visionmedia/ejs">https://github.com/visionmedia/ejs</a></li>
<li><code>md</code> - Process with Markdown - must be <code>xyzzy.html.md</code> - <a href="https://www.npmjs.com/package/markdown-it">https://www.npmjs.com/package/markdown-it</a></li>
<li><code>.html.json</code> - Format JSON data with a partial (see <a href="json-document.html" title="JSON Document Files in AkashaCMS">JSON Document Files in AkashaCMS</a>)</li>
</ul>
<p>The processing by different engines occurs in the order specified in the file name.</p>
<p>Asset files are normally placed in the <code>root_assets</code> directory, but you may find it convenient to place them in the <code>root_documents</code> directory, instead. Files with simple file names (xyzzy.html) will be copied with no processing to the output directory.</p>
<p>Files with the extension <code>.css.less</code> are recognized specially, and will be processed with the LESS renderer to produce a CSS file. See <a href="http://lesscss.org">http://lesscss.org</a></p>
<p>It&apos;s possible to register arbitrary renderChain&apos;s, <a href="rendering-chains.html">to perform any processing sequence with a given file name</a>.</p>
<p>Currently files in <code>root_partials</code> directories do not get the full processing treatment we just discussed. Instead only a single phase of processing is recognized, and the Mahabhuta engine is not run on these files.</p>
<ul>
<li><code>xyzzy.html.ejs</code> - Process with EJS engine</li>
<li><code>xyzzy.html.md</code> - Process with Markdown</li>
<li><code>xyzzy.html.ejs.md</code> - Process first with Markdown, then with EJS</li>
<li><code>xyzzy.html</code> - No processing</li>
</ul>
<h2>Mahabhuta - jQuery style processing</h2>
<p>Earlier &quot;the Mahabhuta engine&quot; was mentioned without explanation. This is a method for using jQuery functions to manipulate the HTML of a website. Running jQuery DOM manipulations of the HTML, on the server and not in the web browser, is a big idea - too big for this little section of this page.</p>
<p>Mahabhuta processing occurs is run several times while processing the file. It remains to be verified whether Mahabhuta works for <code>xyzzy.php</code> files.</p>
<p>For more information see <a href="mahabhuta.html">The Mahabhuta templating engine for AkashaCMS</a></p>
<h2>EJS - synchronous-only templating</h2>
<p>The EJS engine follows the typical traditional template system where you have special markup with which to access Node.js code. The primary limitation for EJS is that it only supports synchronous code.</p>
<p>During EJS processing special functions are available such that you can write</p>
<pre><code>&lt;%= functionName(args) %&gt;
&lt;%- functionName(args) %&gt;
</code></pre>
<p>The first of course encodes everything for inclusion in HTML, while the second is instead included without encoding. The difference is in how the two are displayed. The first will make sure HTML markup is displayed as text containing HTML, whereas the second will display what the HTML code says to show.</p>
<p>Any function executed in EJS has to run synchronously.</p>
<p>Any functions listed in <code>config.funcs</code> are made available as are two special functions provided by AkashaCMS.</p>
<p>The first, <code>partial</code>, <a href="/layout/partials.html">is documented elsewhere</a>.</p>
<p>The second, <code>plugin</code>, lets one access functions exported by plugins.</p>
<pre><code>&lt;%= plugin(&apos;plugin-name&apos;).functionName(args) %&gt;
</code></pre>
<p>This looks up the plugin by name, returning the plugin at which point you can invoke any of its functions. Of course those functions must execute synchronously.</p>
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
<section id="right" class="col-sm-2">
</section>
</div>
</div>
<div class="col-md-2">
<p>AkashaCMS developed by the author of <a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086">Node Web Development</a>
</p>
<a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=davidherron-20"></a>
<span class="st_sharethis" st_title="File names and extensions in AkashaCMS">
<span class="st_tumblr_large"></span><span class="st_stumbleupon_large"></span><span class="st_care2_large"></span><span class="st_twitter_large"></span><span class="st_facebook_large"></span><span class="st_yahoo_large"></span><span class="st_blogger_large"></span><span class="st_sharethis_large"></span>
</span>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">
stLight.options({
    
    
    
    
    
    
    
    publisher:'c828d855-27af-4910-b7a5-2b9b14030895'
});
</script>
<a href="http://www.reddit.com/submit" onclick="window.location = &apos;http://www.reddit.com/submit?url=&apos; + encodeURIComponent(window.location); return false"> <img src="http://www.reddit.com/static/spreddit7.gif" alt="submit to reddit" border="0"> </a>
<script type="text/javascript">
(function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js?onload=onLoadCallback';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<g:plusone></g:plusone>
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<a href="https://twitter.com/AkashaCMS" rel="me nofollow" class="twitter-follow-button" data-show-count="false">Follow<br>@AkashaCMS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</div>
<footer class="row" style="text-align: center; height: 100px">
<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>
</footer>
</div>
<script src="/vendor/jquery/jquery.min.js"></script><script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
