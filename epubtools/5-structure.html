<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">


    <title>Structuring your book</title>





 
 
 
 













<meta name="pagename" content="Structuring your book">









<meta name="date" content="Sat Oct 26 1985 01:15:00 GMT-0700 (Pacific Daylight Time)">

<meta name="DC.title" content="Structuring your book">














<!-- OpenGraph Meta Tags -->

<meta name="og:title" content="Structuring your book">

<meta name="og:url" content="https://akashacms.com/epubtools/5-structure.html">


































<link rel="canonical" href="https://akashacms.com/epubtools/5-structure.html">

<link rel="sitemap" type="application/xml" title="Sitemap" href="../sitemap.xml">


<link rel="stylesheet" type="text/css" href="../akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="../vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../pulse.min.css"><link rel="stylesheet" type="text/css" href="../style.css"><link rel="stylesheet" type="text/css" href="../vendor/fontawesome-free/css/all.min.css"><link rel="stylesheet" type="text/css" href="../vendor/highlight.js/styles/tomorrow-night-blue.css">


<style>
#container { padding-top: 5px; }
</style>
</head>
<body class="ebook-page">

    <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark d-print-none">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ebookNavbarContent" aria-controls="ebookNavbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="ebookNavbarContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="ebookNavbarAkashaCMSdropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    AkashaCMS
                    </a>
                    <div class="dropdown-menu" aria-labelledby="ebookNavbarAkashaCMSdropdown">
                        <a class="dropdown-item" href="../index.html">Home</a>
                        <a class="dropdown-item" href="../akasharender/toc.html">AkashaRender</a>
                        <a class="dropdown-item" href="../plugins/index.html">Plugins</a>
                        <a class="dropdown-item" href="../mahabhuta/toc.html">Mahabhuta</a>
                        <a class="dropdown-item" href="toc.html">EPUB Tools</a>
                        <a class="dropdown-item" href="../howto/index.html">How To</a>
                        <a class="dropdown-item" href="../news/index.html">News</a>
                        <a class="dropdown-item" href="../about.html">About</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="ebookNavbarToCdropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Table of Contents
                    </a>
                    <ol type="1" start="1" class="dropdown-menu" aria-labelledby="ebookNavbarToCdropdown">
        <li class="dropdown-item"><a id="introduction" href="1-introduction.html" title="Introduction to AkashaEPUB">Introduction to AkashaEPUB</a></li>
        <li class="dropdown-item"><a id="installation" href="2-installation.html" title="Installing the AkashaEPUB toolchain">Installing the AkashaEPUB toolchain</a></li>
        <li class="dropdown-item"><a id="creating-content" href="3-creating-content.html" title="Creating book content">Creating book content</a>
            <ol>
                <li><a id="chap-3c-content-markup" href="3c-content-markup.html" title="Content markup formats">Content markup formats</a></li>
                <li><a id="chap-3d-rendering" href="3d-rendering.html" title="The AkashaCMS rendering process">The AkashaCMS rendering process</a></li>
                <li><a id="chap-3da-css" href="3da-css.html" title="CSS, Fonts, and Stylesheets for creating good quality EPUB&apos;s">CSS, Fonts, and Stylesheets for creating good quality EPUB&apos;s</a></li>
                <li><a id="chap-3e-html5-structure" href="3e-html5-structure.html" title="Summary of HTML5 markup in AkashaEPUB Documents">Summary of HTML5 markup in AkashaEPUB Documents</a></li>
                <li><a id="chap-3e-internal-links" href="3e-internal-links.html" title="LINK, IMG tags and the requirement for relative URL&apos;s">LINK, IMG tags and the requirement for relative URL&apos;s</a></li>
            </ol>
        </li>
        <li class="dropdown-item"><a id="configuration" href="4-configuration.html" title="Configuration files for AkashaEPUB projects">Configuration files for AkashaEPUB projects</a>
            <ol>
                <li><a id="chap-4a-akasharender-epub" href="4a-akasharender-epub.html" title="Cleaning up non-EPUB constructs with the `akasharender-epub` plugin">Cleaning up non-EPUB constructs with the `akasharender-epub` plugin</a></li>
            </ol>
        </li>
        <li class="dropdown-item"><a id="structure" href="5-structure.html" title="Structuring your book">Structuring your book</a></li>
        <li class="dropdown-item"><a id="building-EPUB" href="6-building-EPUB.html" title="Building an EPUB with AkashaEPUB">Building an EPUB with AkashaEPUB</a>
            <ol>
                <li><a id="chap-6aa-epub-website" href="6aa-epub-website.html" title="Detailed walk-through an embedding EPUB content in an AkashaCMS website">Detailed walk-through an embedding EPUB content in an AkashaCMS website</a></li>
                <li><a id="chap-6b-validation" href="6b-validation.html" title="Validating EPUB files built by AkashaEPUB">Validating EPUB files built by AkashaEPUB</a></li>
            </ol>
        </li>
        <li class="dropdown-item"><a id="akashacms-project" href="7-akashacms-project.html" title="The AkashaCMS Open Source Project">The AkashaCMS Open Source Project</a></li>
        <li class="dropdown-item"><a id="about" href="8-about.html" title="About the author, David Herron">About the author, David Herron</a></li>
        <li class="dropdown-item"><a id="references" href="9-references.html" title="References">References</a></li>
        <li class="dropdown-item"><a id="copyright" href="0a-copyright.html" title="Copyright Notice">Copyright Notice</a></li>
    </ol>
                </li>
                <form class="form-inline" action="//www.google.com" id="cse-search-box">
                    <div>
                    <input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
                    <input type="hidden" name="ie" value="UTF-8">
                    <input type="text" name="q" size="30">
                    <input type="submit" name="sa" value="Search">
                    </div>
                </form>
                <script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
                // Not empty
                </script>
            </ul>
        </div>
    </nav>

<div id="container" class="container">

    <header class="epub-website-ebook-masthead" id="ebook-masthead">
  <table border="0"><tr>
      
      <td class="epub-website-ebook-masthead-title">
          
      </td>
  </tr></table>
</header>

    <div class="panel panel-default">
        <div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation">



<div class="epub-website-ebook-chapter-area">
<a href="4a-akasharender-epub.html">
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
</a>

<h1 class="panel-title" align="center" style>Structuring your book</h1>

<a href="6-building-EPUB.html">
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>

</div>

        <div id="book-page-content" class="panel-body">
            
            <div id="book-page-content" class="panel-body"><p>So far we&apos;ve walked you through the EPUB Skeleton, demonstrating how to <a href="2-installation.html">install AkashaEPUB</a> and <a href="3-creating-content.html">create content in an AkashaEPUB project</a>.  It&apos;s now time to go over details of how such a project is structured.</p>
<p>There are two different aspects to the &quot;structure&quot; of an AkashaEPUB project.  One is obviously the content structure of your book.  Obviously you are responsible for the structure of the content of your book.  What we mean here by <em>structure</em> is the directory layout and some important files to consider.</p>
<p>The EPUB standard uses metadata files (the OPF and NCX files) to identify the book, and the files it contains.  A navigation document contains a <em>table of contents</em> to help the reader navigate the book.  AkashaEPUB generates the metadata files for you, while you must create the navigation document.  AkashaEPUB generates that metadata from data you provide, and from the files you put in the filesystem.</p>
<h1>AkashaCMS Directory structure and how it&apos;s used in AkashaEPUB</h1>
<p>The Configuration file lists some directories for AkashaRender&apos;s use.  These are as follows:</p>
<table>
<thead>
<tr>
<th>Configuration Method</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setRenderDestination</code></td>
<td><code>out</code></td>
<td>The project is rendered into this directory</td>
</tr>
<tr>
<td><code>addAssetsDir</code></td>
<td><code>assets</code></td>
<td>A list of directories containing files copied as-is with no modification to the <code>RenderDestination</code></td>
</tr>
<tr>
<td><code>addDocumentsDir</code></td>
<td><code>documents</code></td>
<td>A list of directories containing content files that are rendered into the <code>RenderDestination</code></td>
</tr>
<tr>
<td><code>addLayoutsDir</code></td>
<td><code>layouts</code></td>
<td>A list of directories containing page layout templates</td>
</tr>
<tr>
<td><code>addPartialsDir</code></td>
<td><code>partials</code></td>
<td>A list of directories containing <em>partials</em> a.k.a. HTML or template snippets</td>
</tr>
</tbody>
</table>
<p>Most of these can be a list of directories, meaning you can call those functions more than once.  AkashaRender searches these directories for the first file matching the file name.</p>
<p>Another thing often provided by an AkashaCMS plugin is one or more Partial&apos;s in a directory contained within the plugin.</p>
<h2>The AkashaEPUB RenderDestination is the EPUB directory structure</h2>
<p>In case it&apos;s not obvious, the RenderDestination is what will be bundled into the EPUB.  Any file your project places in this directory will be bundled into the EPUB.</p>
<p>The <code>epubtools</code> command will generate the various XML files.  Your project must not attempt to do so.  We&apos;ll go over how <code>epubtools</code> generates those files later.</p>
<h1>Book Metadata in <code>book.yml</code></h1>
<p>So far we&apos;ve discussed how to configure AkashaRender so the RenderDestination will work as an EPUB.  It&apos;s not complete because we&apos;ve not gone over how <code>epubtools</code> generates the XML files.</p>
<p>We mentioned at the top the <code>book.yml</code> file containing publishing metadata about the book.  It&apos;s formatted in YAML and contains details such as the book title, identification strings like an ISBN number, the publisher, and the name for the XML files.</p>
<p>We have two sample files:</p>
<ul>
<li>This book: 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=github.com" style="display: inline-block; padding-right: 2px;" alt="(github.com)">
                    <a href="https://github.com/akashacms/epub-guide/blob/master/book.yml" rel="nofollow" target="_blank">https://github.com/akashacms/epub-guide/blob/master/book.yml</a></li>
<li>The Skeleton EPUB: 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=github.com" style="display: inline-block; padding-right: 2px;" alt="(github.com)">
                    <a href="https://github.com/akashacms/epub-skeleton/blob/master/book.yml" rel="nofollow" target="_blank">https://github.com/akashacms/epub-skeleton/blob/master/book.yml</a></li>
</ul>
<p>The entries in this file are fairly straightforward.  See: <a href="4-configuration.html" title="Configuration files for AkashaEPUB projects">Configuration files for AkashaEPUB projects</a></p>
<h1>The Navigation Document, a.k.a. the Table of Contents, in <code>toc.html</code></h1>
<p>Every EPUB3 e-Book must have a <em>Navigation Document</em> containing at least one <code>&lt;nav&gt;</code> that serves as the Table of Contents.  The EPUB3 Navigation Document replaced the NCX file used in EPUB2.  For compatibility purposes, <code>epubtools</code> automatically generates an NCX file while bundling the EPUB.  The <code>&lt;nav&gt;</code> structure in the Navigation Document will be extracted by the reading system so it can display navigational aids to the user.</p>
<p>The actual file name for these two files are declared in these <code>book.yml</code> entries:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">toc</span>: { <span class="hljs-attribute">id</span>: <span class="hljs-string">&quot;toc&quot;</span>, href: <span class="hljs-string">&quot;toc.html&quot;</span> }
<span class="hljs-selector-tag">ncx</span>: { <span class="hljs-attribute">id</span>: <span class="hljs-string">&quot;ncx&quot;</span>, href: <span class="hljs-string">&quot;toc.ncx&quot;</span>  }
</code></pre>
<p>You must create a file that will render to the file given in the <code>toc</code> element.  In other words, <code>toc.html.md</code> or <code>toc.html.ejs</code> or even just <code>toc.html</code> will serve the purpose.  You do not need to create the <code>toc.ncx</code> file, however, as <code>epubtools</code> will auto-generate that file for you.</p>
<p>The Navigation Document for the EPUB Skeleton is: 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=github.com" style="display: inline-block; padding-right: 2px;" alt="(github.com)">
                    <a href="https://github.com/akashacms/epub-skeleton/blob/master/documents/toc.html.ejs" rel="nofollow" target="_blank">https://github.com/akashacms/epub-skeleton/blob/master/documents/toc.html.ejs</a></p>
<p>It uses the layout: 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=github.com" style="display: inline-block; padding-right: 2px;" alt="(github.com)">
                    <a href="https://github.com/akashacms/epub-skeleton/blob/master/layouts/page.html.ejs" rel="nofollow" target="_blank">https://github.com/akashacms/epub-skeleton/blob/master/layouts/page.html.ejs</a></p>
<p>The Navigation Document must incorporate the EPUB namespace as so:</p>
<pre><code class="hljs">&lt;html <span class="hljs-attribute">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      xmlns:<span class="hljs-attribute">epub</span>=<span class="hljs-string">&quot;http://www.idpf.org/2007/ops&quot;</span> <span class="hljs-built_in">..</span>. &gt;
</code></pre>
<p>The next step is within the <code>&lt;body&gt;</code> tag you place a <code>&lt;nav epub:type=&quot;toc&quot; id=&quot;toc&quot;&gt;</code> element containing an <code>&lt;ol&gt;</code> list containing the table of contents.  The <code>epub:type</code> attribute is required, and the <code>id</code> must match what you put in the <code>book.yml</code> declaration.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">epub:type</span>=<span class="hljs-string">&quot;toc&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;toc&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">start</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap1&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap1.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap1a&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap1a.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap2&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap2.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap3&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap3.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap3a&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap3a.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap3b&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap3b.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap4&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap4.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap5&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap5/chap5.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap5a&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap5/chap5a.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chap5b&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;chap5/b/chap5b.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
</code></pre>
<p>The <code>epub:type</code> attribute declares the kind of navigation element, in this case it is a <em>toc nav</em> or a <code>nav</code> used for a Table of Contents.  As of this writing AkashaEPUB only supports the <em>toc nav</em> and the other <code>nav</code> types are not supported.  An <code>&lt;ol&gt;</code> list must exist within this <code>&lt;nav&gt;</code> element.</p>
<p>The <code>&lt;ol&gt;</code> shown here is suitable for a typical table of contents with numbered chapters starting at Chapter 1.  The structure of this list can be nested as deeply as you like.  Typically the nesting organizes the content by chapters and sections.  EPUB3 reading systems should display the nested structure.</p>
<p>The values for <code>type</code> are:</p>
<ul>
<li><code>1</code> - decimal</li>
<li><code>a</code> - lower-case alpha</li>
<li><code>A</code> - upper-case alpha</li>
<li><code>i</code> - lower-case roman numerals</li>
<li><code>I</code> - upper-case roman numerals</li>
</ul>
<h2>The <code>id=</code> attributes in Table of Contents entries</h2>
<p>You&apos;ll see <code>id</code> attributes in the sample Table of Contents entries above.  Those <code>id</code> values are copied by <em>epubtools</em> into the OPF and NCX files to use as the required <code>id</code> values.</p>
<p>The <code>id</code> attributes are not required by the EPUB specification.  You won&apos;t see them recommended in documents about creating files for an EPUB document.</p>
<p>However, it is required that entries in OPF and NCX files have <code>id</code> attributes.  Since <em>epubtools</em> creates those files for you, it must get those <code>id</code> attributes from somewhere.  The Table of Contents is that place.</p>
<h2>Navigation Document Page title</h2>
<p>It&apos;s tempting for the page title of this page to simply be <em>Table of Contents</em>, like this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Table of Contents<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">epub:type</span>=<span class="hljs-string">&quot;toc&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;toc&quot;</span>&gt;</span>
...
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<p>This might be misleading to the readers, especially if the Navigation Document is the first thing they see upon opening the book.  It might instead be better to put the book title instead of <em>Table of Contents</em>.</p>
<h1>XHTML page templates</h1>
<p>EPUB3 uses XHTML5 rather than straight HTML like we use on the Web.  There are a few things this means for AkashaEPUB.</p>
<p>One issue is something for which there is not a solution:  The file extensions should be <code>.xhtml</code> rather than <code>.html</code>.  AkashaRender&apos;s rendering engines produce files named with <code>.html</code> and does not have a mechanism to instead produce <code>.xhtml</code> files.  The <code>epubcheck</code> tool gives a simple warning rather than an error for this issue.</p>
<p>The other issues means the content of the HTML files must be XHTML.  That means a couple specific things.</p>
<p>The page templates must start with this:</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/1999/xhtml&quot;</span>
    <span class="hljs-attr">xmlns:epub</span>=<span class="hljs-string">&quot;http://www.idpf.org/2007/ops&quot;</span> <span class="hljs-attr">...</span> &gt;</span>
</code></pre>
<p>We already saw this when discussing the Navigation Document.  The <code>epub:</code> namespace is useful not just in that file, but in other cases.</p>
<p>For example an <code>epub:type=&quot;..&quot;</code> attribute can be used on lots of tags, not just the <code>&lt;nav&gt;</code> tag in the Navigation Document.</p>
<h1>Cover Page (<code>cover.html</code>)</h1>
<p>Even digital books need cover images.  We humans have hundreds of years experience of books with covers, and often judge books by their cover.  We do this even though we&apos;re warned to not judge a book by its cover.  The online e-book stores perpetuate this pattern by showing a cover image for each book.  Hence, a cover image is needed even for an electronic book that doesn&apos;t have a cover.</p>
<p>There are two cover image objects used by EPUB.  The first is the image itself, and some EPUB reader software looks only at that image.  The second is an HTML file that only displays the cover image.  AkashaEPUB will put both into the manifest.</p>
<p>All the relavent information is declared this way in <code>book.yml</code>:</p>
<pre><code class="hljs"><span class="hljs-attribute">cover</span>:
    <span class="hljs-attribute">coverHtml</span>: { <span class="hljs-attribute">id</span>: <span class="hljs-string">&quot;cover&quot;</span>, <span class="hljs-attribute">href</span>: <span class="hljs-string">&quot;cover.html&quot;</span> }
    <span class="hljs-attribute">idImage</span>: <span class="hljs-string">&quot;cover-image&quot;</span>
    <span class="hljs-attribute">src</span>: <span class="hljs-string">&quot;range-confidence-cover.jpg&quot;</span>
    <span class="hljs-attribute">alt</span>:  <span class="hljs-string">&quot;Electric Vehicle Charging Guide&quot;</span>
    <span class="hljs-attribute">type</span>: <span class="hljs-string">&quot;image/jpeg&quot;</span>
</code></pre>
<p>The cover page will be contained in <code>cover.html</code>.  The image to be used is named in the <code>src</code> tag, and its MIME type is in the <code>type</code> tag.  The required entries in the OPF file will be created by <code>epubtools</code>.</p>
<p>The <code>writeHtml</code> element describes the generated HTML cover file.</p>
<p>The <code>src</code> member is the pathname to the image, while the <code>alt</code> member is the <code>alt=</code> text used in the HTML file, and the <code>type</code> member is its MIME type.</p>
<p>From this, AkashaEPUB generates two entries in the OPF manifest.  The first is the HTML file, that will be named <code>cover.html</code>, containing only an <code>img</code> tag to show the cover image.  The second simply refers to the image file.</p>
<p>The HTML file should have this structure:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Cover<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0em</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0em</span>;
}
<span class="hljs-selector-tag">img</span> {
    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100%</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;images/cover.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;cover image&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
<p>Using <code>max-width</code> on the image styling is important so the image will scale to the device.</p>
<h2>How big of a cover image?</h2>
<p>It pays to make a large cover image because the screens on EPUB readers are getting better and better.  For example, the highest resolution iPad currently on the market has a 2048x1536 pixel screen whereas the original iPad&apos;s screen resolution was 1024x768.  That&apos;s 4x the pixels in the same screen size.</p>
<p>It means that iPad EPUB reader software will fill most of the screen with your cover image.  If yours is 900x600 pixels, the reader software will have to scale it up to fill the screen, and it won&apos;t look good.</p>
<p>It&apos;s better to make the cover image too large and let the EPUB reader software scale it down, than to make the image too small and have it scaled up.</p>
<p>The other consideration is the width-to-height ratio.  The convention for cover images is that they&apos;re taller than they are wide, or what is otherwise called Portrait Mode.  The aspect ratio is up to you, but by convention is about 3:2.</p>
<p>In other words, a 2000 pixel wide cover image should be 3000 pixels high.</p>
<h2>Cover image format?</h2>
<p>Our example above showed use of a PNG file.  They&apos;re good because of loss-less compression.</p>
<p>EPUB readers are also supposed to support SVG files, but that hasn&apos;t been tested with AkashaEPUB.  SVG is in theory better than any raster image format like PNG, because SVG is a Vector Graphics format and automatically scales to any resolution without loss of precision.</p>
<h1>Declaring ownership, copy rights, and the copyright page</h1>
<p>Earlier we discussed declaring in the <code>book.yml</code> the document identifiers <a href="4-configuration.html" title="Configuration files for AkashaEPUB projects">Configuration files for AkashaEPUB projects</a></p>
<p>Having a legally correct copyright page makes the ownership clear to your readers.  While there is an automatic copyright when a work is published, it is probably helpful to go ahead and add a copyright page.  The References section lists links to a few recommended formats of the text in a copyright page: <a href="9-references.html" title="References">References</a></p>
<p>The implementation is easy.  After creating your preferred copyright statement, simply list the corresponding copyright file in the table of contents.  Neither AkashaEPUB nor EPUB3 will attach any special significance to the file.  It&apos;s just another file to show to the reader.</p>
</div>
            


            <div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation-bottom">



<div class="epub-website-ebook-chapter-area">
<a href="4a-akasharender-epub.html">
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
    <span class="fas fa-chevron-left" aria-hidden="true" style></span>
</a>

<h1 class="panel-title" align="center" style>Structuring your book</h1>

<a href="6-building-EPUB.html">
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
    <span class="fas fa-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>

</div>

            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=disqus.com" style="display: inline-block; padding-right: 2px;" alt="(disqus.com)">
                    <a href="https://disqus.com/?ref_noscript" rel="nofollow" target="_blank">comments powered by Disqus.</a></noscript>

                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=disqus.com" style="display: inline-block; padding-right: 2px;" alt="(disqus.com)">
                    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow" target="_blank">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
    <footer id="footer-row" class="container">
    

<a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL250_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=techsparx-20" width="175"></a>

<a rel="nofollow noskim" href="https://www.amazon.com/Asynchronous-Node-js-JavaScript-Promises-Generators-ebook/dp/B01N2Z4SOR/ref=as_li_ss_tl?ie=UTF8&amp;qid=1498526267&amp;sr=8-1&amp;keywords=asynchronous+javascript+promises+generators&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=0b8a5dc44c97bf8eb8452dac15ae724b" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/es-2015-16-17-promises-generators-and-async-await-2-1000.jpg" width="175"></a>

<a rel="nofollow noskim" href="https://www.amazon.com/Creating-eBooks-Markdown-Source-Tools-ebook/dp/B00WTKDH72/ref=as_li_ss_tl?_encoding=UTF8&amp;psc=1&amp;refRID=4SGHASEAZJKJBV0G60R0&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=941071a7b25f067767f82a7b11c06968" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/create-ebook-cover.jpg" width="175"></a>

    
<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>

    </footer>
</div>

<script src="../vendor/jquery/jquery.min.js"></script><script src="../vendor/popper.js/umd/popper.min.js"></script><script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- partial file-name="piwik_analytics.html"></partial -->


</body>
</html>
