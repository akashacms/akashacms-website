<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">
<title>Example fixed layout for an EPUB reading experience</title>
<meta name="pagename" content="Example fixed layout for an EPUB reading experience">
<meta name="date" content="Mon May 15 2017 15:11:16 GMT-0700 (PDT)">
<meta name="DC.title" content="Example fixed layout for an EPUB reading experience">
<meta name="og:title" content="Example fixed layout for an EPUB reading experience">
<meta name="og:url" content="https://akashacms.com/guides/epubtools/layout-fixed.html">
<link rel="canonical" href="https://akashacms.com/guides/epubtools/layout-fixed.html">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="stylesheet" type="text/css" href="/akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap-theme.min.css"><link rel="stylesheet" type="text/css" href="/readable.min.css"><link rel="stylesheet" type="text/css" href="/style.css">
<style>
html, body {
    height:100%;
    max-height:100%;
    margin:0;
}

#page-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
}

#site-navbar {
    display: none;
    flex-shrink: 0;
    height: 30px;
}

#ebook-masthead {
    flex-shrink: 0;
    height: 60px;
}

#ebook-masthead h2 {
    font-size: 22px;
    margin-top: 0px;
}

#ebook-navigation {
    flex-shrink: 0;
    height: 60px;
}

#book-page-content {
    flex-grow: 1;
    overflow: auto;
    min-height: 2em;
}

#footer-row {
    display: none;
    flex-shrink: 0;
    height: 50px;
    background-color: grey;
}
</style>
</head>
<body class="ebook-page">
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
<button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<div class="navbar-collapse collapse navHeaderCollapse">
<ul class="nav navbar-nav navbar-rights">
<li><a href="/index.html">Home</a></li>
<li><a href="/install.html">Installation</a></li>
<li><a href="/configuration/index.html">Configuration</a></li>
<li><a href="/documents/index.html">Documents</a></li>
<li><a href="/plugins/index.html">Plugins</a></li>
<li><a href="/plugins/epub.html">AkashaEPUB</a></li>
<li><a href="/layout/index.html">Layouts</a></li>
<li><a href="/theming/index.html">Theming</a></li>
<li><a href="/deployment/index.html">Deployment</a></li>
<li><a href="/command-line/index.html">Command Line</a></li>
<li><a href="/howto/index.html">Tutorials</a></li>
<li><a href="/news/index.html">Blog</a></li>
<li><a href="/about.html">About</a></li>
</ul>
</div>
</div>
<div id="page-container">
<header class="epub-website-ebook-masthead" id="ebook-masthead">
<table border="0"><tr>
<td class="epub-website-ebook-masthead-logo"><a href="/guides/epubtools/toc.html"><img src="/css/MAHABHUTA.png"></a></td>
<td class="epub-website-ebook-masthead-title">
<a href="/guides/epubtools/toc.html"><h2 align="center">Rendering EPUB content as a Website</h2></a><em>By David Herron</em>
</td>
</tr></table>
</header>
<div class="panel panel-default">
<div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation">
<div class="epub-website-ebook-logo-area">
<div class="btn-group">
<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
Table of Contents
<span class="caret"></span>
</button>
<ol type="1" start="1" class="dropdown-menu">
<li><a href="introduction.html" id="introduction">Introduction</a></li>
<li><a href="setup.html" id="setup">Setup</a></li>
<li><a href="layout-fixed.html" id="layout-fixed">Example fixed layout for an EPUB reading experience</a></li>
<li><a href="layout-flexbox.html" id="layout-flexbox">Example flexbox-based layout for an EPUB reading experience</a></li>
</ol>
</div>
</div>
<div class="epub-website-ebook-chapter-area">
<a href="setup.html">
<span class="epub-website-ebook-chevron-left glyphicon glyphicon-chevron-left" aria-hidden="true" style=""></span>
</a>
<h1 class="panel-title" align="center" style="">Example fixed layout for an EPUB reading experience</h1>
<a href="layout-flexbox.html">
<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>
</div>
<div id="book-page-content" class="panel-body">
<div id="book-page-content" class="panel-body"><p>The chosen experience for EPUB reading on-line is to make the content completely fill the browser viewport, to have a &quot;book masthead&quot; at the top of the window, immediately below that a row with a dropdown menu listing chapters and a running view of the current chapter, with the book content immediately below that. The masthead and navigation row is to remain fixed at the top of the screen while the content is scrollable. Optionally there is room at the top of the window for a site-wide navigation bar, and room at the bottom for .. uh, administrivia links, or advertising.</p>
<p>The old technique for a fixed layout like this is using absolute CSS positioning. In <code>layouts-web-fixed</code> create a file named <code>ebook-page.html.ejs</code>.</p>
<pre><code>&lt;!doctype html&gt;
&lt;html class=&quot;ebook-page ebook-page-fixed&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;

&lt;ak-page-title&gt;&lt;/ak-page-title&gt;
&lt;ak-header-metatags&gt;&lt;/ak-header-metatags&gt;
&lt;ak-sitemapxml&gt;&lt;/ak-sitemapxml&gt;
&lt;ak-siteverification&gt;&lt;/ak-siteverification&gt;
&lt;ak-header-linkreltags&gt;&lt;/ak-header-linkreltags&gt;
&lt;ak-stylesheets&gt;&lt;/ak-stylesheets&gt;
&lt;ak-headerJavaScript&gt;&lt;/ak-headerJavaScript&gt;

&lt;/head&gt;
&lt;body class=&quot;ebook-page ebook-page-fixed&quot;&gt;

&lt;partial file-name=&quot;site-navbar.html&quot;&gt;&lt;/partial&gt;

&lt;ebook-page-header id=&quot;ebook-masthead&quot; header-height=&quot;60px&quot;&gt;&lt;/ebook-page-header&gt;
&lt;ebook-navigation-header id=&quot;ebook-navigation&quot;&gt;&lt;/ebook-navigation-header&gt;
&lt;div id=&quot;book-page-content&quot; class=&quot;panel-body&quot;&gt;&lt;%- content %&gt;&lt;/div&gt;
&lt;footer id=&quot;footer-row&quot; class=&quot;container&quot;&gt;
&lt;partial file-name=&quot;footer.html.ejs&quot;&gt;&lt;/partial&gt;
&lt;/footer&gt;

&lt;ak-footerJavaScript&gt;&lt;/ak-footerJavaScript&gt;
&lt;partial file-name=&quot;google-analytics.html&quot;&gt;&lt;/partial&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>The tags in the <code>&lt;head&gt;</code> section are provided by AkashaCMS plugins and simplify construction of a complete metadata section.</p>
<p>Adding descriptive classnames helps with writing CSS rules that target pages made with this specific layout template. The main page content uses a pair of Mahafunc&apos;s, <code>&lt;ebook-page-header&gt;</code> (the masthead) and <code>&lt;ebook-navigation-header&gt;</code> (the navigation bar), provided by the plugin containing this plugin.</p>
<p>In other words, we have some semantic markup that gives us a few boxes to lay out on the page. Which, of course, requires appropriate CSS code.</p>
<h2>Fixed layout CSS</h2>
<p>In <code>assets-web/css/style.css</code> put the following:</p>
<pre><code>.ebook-page-flex, .ebook-page-fixed {
    height:100%;
    max-height:100%;
    margin:0;
}
</code></pre>
<p>This section is common to both the flexbox-based and fixed layout&apos;s. The class names are used on both the <code>&lt;html&gt;</code> and <code>&lt;body&gt;</code> tags, and therefore this says the page body has a maximum height of 100% and therefore will not expand past the browser viewport.</p>
<p>Now let&apos;s look at the CSS rules to implement a fixed layout.</p>
<pre><code>
/* Using fixed layout techniques */

.ebook-page-fixed #ebook-masthead {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 60px;
    width: 100%;
}

.ebook-page-fixed #ebook-masthead h2 {
    font-size: 22px;
    margin-top: 0px;
}

.ebook-page-fixed #ebook-navigation {
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    bottom: 120px;
    height: 60px;
    width: 100%;
}

.ebook-page-fixed #book-page-content {
    position: absolute;
    top: 120px;
    left: 0;
    right: 0;
    bottom: 50px;
    width: 100%;
    overflow: auto;
}

.ebook-page-fixed #footer-row {
    position: absolute;
    height: 50px;
    left: 0;
    right: 0;
    bottom: 0;
}

</code></pre>
<p>Each of these declarations target the <code>.ebook-page-fixed</code> meaning it applies only to pages using this layout template.</p>
<p>If you follow along you&apos;ll see it positions every element absolutely, giving enough room for the typical content of each.</p>
<p>This of course has a glaring responsiveness problem. Does it degrade well to a small screen? What if the text overflows the expected size?</p>
</div>
<div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation-bottom">
<div class="epub-website-ebook-logo-area">
<div class="btn-group">
<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
Table of Contents
<span class="caret"></span>
</button>
<ol type="1" start="1" class="dropdown-menu">
<li><a href="introduction.html" id="introduction">Introduction</a></li>
<li><a href="setup.html" id="setup">Setup</a></li>
<li><a href="layout-fixed.html" id="layout-fixed">Example fixed layout for an EPUB reading experience</a></li>
<li><a href="layout-flexbox.html" id="layout-flexbox">Example flexbox-based layout for an EPUB reading experience</a></li>
</ol>
</div>
</div>
<div class="epub-website-ebook-chapter-area">
<a href="setup.html">
<span class="epub-website-ebook-chevron-left glyphicon glyphicon-chevron-left" aria-hidden="true" style=""></span>
</a>
<h1 class="panel-title" align="center" style="">Example fixed layout for an EPUB reading experience</h1>
<a href="layout-flexbox.html">
<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
<footer id="footer-row" class="container">
<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>
</footer>
</div>
<script src="/vendor/jquery/jquery.min.js"></script><script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
