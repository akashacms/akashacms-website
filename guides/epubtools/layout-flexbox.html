<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">
<title>Example flexbox-based layout for an EPUB reading experience</title>
<meta name="pagename" content="Example flexbox-based layout for an EPUB reading experience">
<meta name="date" content="Mon May 15 2017 15:11:10 GMT-0700 (PDT)">
<meta name="DC.title" content="Example flexbox-based layout for an EPUB reading experience">
<meta name="og:title" content="Example flexbox-based layout for an EPUB reading experience">
<meta name="og:url" content="https://akashacms.com/guides/epubtools/layout-flexbox.html">
<link rel="canonical" href="https://akashacms.com/guides/epubtools/layout-flexbox.html">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="stylesheet" type="text/css" href="/akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap-theme.min.css"><link rel="stylesheet" type="text/css" href="/readable.min.css"><link rel="stylesheet" type="text/css" href="/style.css">
<style>
html, body {
    height:100%;
    max-height:100%;
    margin:0;
}

#page-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
}

#site-navbar {
    display: none;
    flex-shrink: 0;
    height: 30px;
}

#ebook-masthead {
    flex-shrink: 0;
    height: 60px;
}

#ebook-masthead h2 {
    font-size: 22px;
    margin-top: 0px;
}

#ebook-navigation {
    flex-shrink: 0;
    height: 60px;
}

#book-page-content {
    flex-grow: 1;
    overflow: auto;
    min-height: 2em;
}

#footer-row {
    display: none;
    flex-shrink: 0;
    height: 50px;
    background-color: grey;
}
</style>
</head>
<body class="ebook-page">
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
<button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<div class="navbar-collapse collapse navHeaderCollapse">
<ul class="nav navbar-nav navbar-rights">
<li><a href="/index.html">Home</a></li>
<li><a href="/install.html">Installation</a></li>
<li><a href="/configuration/index.html">Configuration</a></li>
<li><a href="/documents/index.html">Documents</a></li>
<li><a href="/plugins/index.html">Plugins</a></li>
<li><a href="/plugins/epub.html">AkashaEPUB</a></li>
<li><a href="/layout/index.html">Layouts</a></li>
<li><a href="/theming/index.html">Theming</a></li>
<li><a href="/deployment/index.html">Deployment</a></li>
<li><a href="/command-line/index.html">Command Line</a></li>
<li><a href="/howto/index.html">Tutorials</a></li>
<li><a href="/news/index.html">Blog</a></li>
<li><a href="/about.html">About</a></li>
</ul>
</div>
</div>
<div id="page-container">
<header class="epub-website-ebook-masthead" id="ebook-masthead">
<table border="0"><tr>
<td class="epub-website-ebook-masthead-logo"><a href="/guides/epubtools/toc.html"><img src="/css/MAHABHUTA.png"></a></td>
<td class="epub-website-ebook-masthead-title">
<a href="/guides/epubtools/toc.html"><h2 align="center">Rendering EPUB content as a Website</h2></a><em>By David Herron</em>
</td>
</tr></table>
</header>
<div class="panel panel-default">
<div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation">
<div class="epub-website-ebook-logo-area">
<div class="btn-group">
<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
Table of Contents
<span class="caret"></span>
</button>
<ol type="1" start="1" class="dropdown-menu">
<li><a href="introduction.html" id="introduction">Introduction</a></li>
<li><a href="setup.html" id="setup">Setup</a></li>
<li><a href="layout-fixed.html" id="layout-fixed">Example fixed layout for an EPUB reading experience</a></li>
<li><a href="layout-flexbox.html" id="layout-flexbox">Example flexbox-based layout for an EPUB reading experience</a></li>
</ol>
</div>
</div>
<div class="epub-website-ebook-chapter-area">
<a href="layout-fixed.html">
<span class="epub-website-ebook-chevron-left glyphicon glyphicon-chevron-left" aria-hidden="true" style=""></span>
</a>
<h1 class="panel-title" align="center" style="">Example flexbox-based layout for an EPUB reading experience</h1>
<a href="introduction.html">
<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>
</div>
<div id="book-page-content" class="panel-body">
<div id="book-page-content" class="panel-body"><p>Now that we&apos;ve looked at the old-school approach, using absolute positioning, let&apos;s look at the new-school, flexbox. Flexbox CSS is a new layout paradigm using flexible boxes that have growing/shrinking/etc behavior instructions in CSS. The general concept dates back over twenty years, coming from GUI layout strategies in several GUI toolkits.</p>
<p>In <code>layouts-web-flex</code> add a file named <code>ebook-page.html.ejs</code>.</p>
<pre><code>&lt;!doctype html&gt;
&lt;html class=&quot;ebook-page ebook-page-flex&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;

&lt;ak-page-title&gt;&lt;/ak-page-title&gt;
&lt;ak-header-metatags&gt;&lt;/ak-header-metatags&gt;
&lt;ak-sitemapxml&gt;&lt;/ak-sitemapxml&gt;
&lt;ak-siteverification&gt;&lt;/ak-siteverification&gt;
&lt;ak-header-linkreltags&gt;&lt;/ak-header-linkreltags&gt;
&lt;ak-stylesheets&gt;&lt;/ak-stylesheets&gt;
&lt;ak-headerJavaScript&gt;&lt;/ak-headerJavaScript&gt;

&lt;/head&gt;
&lt;body class=&quot;ebook-page ebook-page-flex&quot;&gt;

&lt;div id=&quot;page-container&quot;&gt;
    &lt;div id=&quot;site-navbar&quot;&gt;&lt;p&gt;Site Navbar &lt;/p&gt;&lt;partial file-name=&quot;site-navbar.html&quot;&gt;&lt;/partial&gt;&lt;/div&gt;
    &lt;ebook-page-header id=&quot;ebook-masthead&quot; header-height=&quot;60px&quot;&gt;&lt;/ebook-page-header&gt;
    &lt;ebook-navigation-header id=&quot;ebook-navigation&quot;&gt;&lt;/ebook-navigation-header&gt;
    &lt;div id=&quot;book-page-content&quot; class=&quot;panel-body&quot;&gt;&lt;%- content %&gt;&lt;/div&gt;
    &lt;footer id=&quot;footer-row&quot; class=&quot;container&quot;&gt;
    &lt;partial file-name=&quot;footer.html.ejs&quot;&gt;&lt;/partial&gt;
    &lt;/footer&gt;
&lt;/div&gt;

&lt;ak-footerJavaScript&gt;&lt;/ak-footerJavaScript&gt;
&lt;partial file-name=&quot;google-analytics.html&quot;&gt;&lt;/partial&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>There&apos;s a lot of similarity between this page layout and the fixed layout shown previously. The key difference is the <code>div</code> named <code>#page-container</code>. We&apos;ll use this as the parent of the flexbox configuration.</p>
<h2>Flexbox layout for EPUB reading</h2>
<p>As before it&apos;s the CSS that makes this work. Add the following to <code>assets-web/css/style.css</code>.</p>
<pre><code>/* Using flexbox layout techniques */

.ebook-page-flex #page-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
}

.ebook-page-flex #site-navbar {
    flex-shrink: 0;
    height: 30px;
}

.ebook-page-flex #ebook-masthead {
    flex-shrink: 0;
    height: 60px;
}

.ebook-page-flex #ebook-masthead h2 {
    font-size: 22px;
    margin-top: 0px;
}

.ebook-page-flex #ebook-navigation {
    flex-shrink: 0;
    height: 60px;
}

.ebook-page-flex #book-page-content {
    flex-grow: 1;
    overflow: auto;
    min-height: 2em;
}

.ebook-page-flex #footer-row {
    flex-shrink: 0;
    height: 50px;
    background-color: grey;
}
</code></pre>
<p>The outer container, <code>#page-container</code>, declares this to flex as a <code>column</code>. That is what we have, a vertical stack of boxes.</p>
<p>Most of the boxes are instructed to stay as a fixed height because we have specific things to put into them. We may want the <code>#ebook-masthead</code> and <code>#ebook-navigation</code> boxes to grow so they&apos;ll accomodate longer book names or chapter names.</p>
<p>The primary consideration is keeping enough room for <code>#book-page-content</code>. This box is allowed to grow, and has a scrollbar.</p>
</div>
<div class="panel-heading epub-website-ebook-navigation-header" id="ebook-navigation-bottom">
<div class="epub-website-ebook-logo-area">
<div class="btn-group">
<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
Table of Contents
<span class="caret"></span>
</button>
<ol type="1" start="1" class="dropdown-menu">
<li><a href="introduction.html" id="introduction">Introduction</a></li>
<li><a href="setup.html" id="setup">Setup</a></li>
<li><a href="layout-fixed.html" id="layout-fixed">Example fixed layout for an EPUB reading experience</a></li>
<li><a href="layout-flexbox.html" id="layout-flexbox">Example flexbox-based layout for an EPUB reading experience</a></li>
</ol>
</div>
</div>
<div class="epub-website-ebook-chapter-area">
<a href="layout-fixed.html">
<span class="epub-website-ebook-chevron-left glyphicon glyphicon-chevron-left" aria-hidden="true" style=""></span>
</a>
<h1 class="panel-title" align="center" style="">Example flexbox-based layout for an EPUB reading experience</h1>
<a href="introduction.html">
<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="display: inline"></span>
</a>
</div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
<footer id="footer-row" class="container">
<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>
</footer>
</div>
<script src="/vendor/jquery/jquery.min.js"></script><script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
