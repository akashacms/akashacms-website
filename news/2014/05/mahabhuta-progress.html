<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">

<title>Progress on jQuery-style templates for AkashaCMS (Mahabhuta)</title>





 
 
 
 













<meta name="pagename" content="Progress on jQuery-style templates for AkashaCMS (Mahabhuta)">









<meta name="date" content="Sat Aug 08 2020 22:46:54 GMT-0700 (Pacific Daylight Time)">

<meta name="DC.title" content="Progress on jQuery-style templates for AkashaCMS (Mahabhuta)">














<!-- OpenGraph Meta Tags -->

<meta name="og:title" content="Progress on jQuery-style templates for AkashaCMS (Mahabhuta)">

<meta name="og:url" content="https://akashacms.com/news/2014/05/mahabhuta-progress.html">


































<link rel="canonical" href="https://akashacms.com/news/2014/05/mahabhuta-progress.html">

<link rel="sitemap" type="application/xml" title="Sitemap" href="../../../sitemap.xml">


<link rel="stylesheet" type="text/css" href="../../../akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="../../../vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../../../pulse.min.css"><link rel="stylesheet" type="text/css" href="../../../style.css"><link rel="stylesheet" type="text/css" href="../../../vendor/fontawesome-free/css/all.min.css"><link rel="stylesheet" type="text/css" href="../../../vendor/highlight.js/styles/tomorrow-night-blue.css">



<!-- Facebook app for AkashaCMS fan page -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=234745903279111";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



<!-- Twitter summary card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@akashacms">
<meta name="twitter:creator" content="@7genblogger">

<meta name="twitter:url" content="https://akashacms.com/news/2014/05/mahabhuta-progress.html">


<meta name="twitter:title" content="Progress on jQuery-style templates for AkashaCMS (Mahabhuta)">


<meta name="twitter:image" content="http://akashacms.com/logo.gif">


</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" role="navigation">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav navbar-rights">
          <li class="nav-item">
              <a class="nav-link" href="../../../index.html">Home</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../akasharender/toc.html">AkashaRender</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../plugins/index.html">Plugins</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../mahabhuta/toc.html">Mahabhuta</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../epubtools/toc.html">EPUB Tools</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../howto/index.html">How To</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../index.html">News</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../../about.html">About</a>
          </li>
    </ul>
  </div>
</nav>


<div class="container" role="main">
<div class="row">
<header class="col-md-12">
  <div class="row">
    <span class="col-md-8" style="text-align: center;">
      <a href="../../../index.html"><img src="../../../logo.gif" align="left"></a>
      <h1 align="center">Progress on jQuery-style templates for AkashaCMS (Mahabhuta)</h1>
    </span>
    <span class="col-md-4">
      <form action="//www.google.com" id="cse-search-box">
        <div>
          <input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="text" name="q" size="30">
          <input type="submit" name="sa" value="Search">
        </div>
      </form>
      <script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
      // Not empty
      </script>
      <br>

    </span>
  </div>

</header>

</div>

<div class="row">
  <section id="breadcrumb" class="col-sm-12">
    <nav aria-label="breadcrumb" id="breadcrumbTrail">
    <ol class="breadcrumb">
     <li class="breadcrumb-item "> <a href="../../../index.html">AkashaCMS - the powerful static file CMS to build your dream website</a> </li> <li class="breadcrumb-item "> <a href="../../index.html">Announcements and News about AkashaCMS</a> </li> <li class="breadcrumb-item "> <a href="../index.html">AkashaCMS News and Announcements for 2014</a> </li> <li class="breadcrumb-item "> <a href="index.html">AkashaCMS News and Announcements for May 2014</a> </li> <li class="breadcrumb-item "> <a href="mahabhuta-progress.html">Progress on jQuery-style templates for AkashaCMS (Mahabhuta)</a> </li>
    </ol>
</nav>

  </section>
  <section id="category-tags" class="col-sm-12">
    
    Date: 2014-06-01 16:43

  </section>
  <section id="author-byline" class="col-sm-12">
    <div class="author-byline" itemprop="author" itemscope itemtype="http://schema.org/Person">
By <span itemprop="name" class="author-name-wrapper"><a href="../../../about.html" rel="author" itemprop="url">David Herron</a></span>
</div>

  </section>
</div>

<div class="row">
  <article class="col-sm-10">
    
    <strong><p><strong>Since last weekend I&apos;ve been working on Mahabhuta, the new element-oriented template system using jQuery&apos;s API, in AkashaCMS.  The goal was to verify that it&apos;s useful by attempting to implement some important things with it.  I&apos;m happy to say that Mahabhuta is living up to what I hoped.  I&apos;ve been able to reduce complexity in AkashaCMS and the path is clear to perhaps removing the Kernel template engine, because the functionality I sought with Kernel is now available via Mahabhuta.
</strong></p>
</strong>
    
    <!-- no hero picture -->

    <p>See earlier announcement:  <a href="mahabhuta-announce.html" title="Major change in AkashaCMS - new model for rendering content, and jQuery as a template engine">Major change in AkashaCMS - new model for rendering content, and jQuery as a template engine</a></p>
<p>The week&apos;s work resulted in two things:</p>
<ul>
<li>a base page template implemented entirely with Mahabhuta,</li>
<li>custom tags for embedding YouTube videos or document viewing using either Google Docs or ViewerJS</li>
</ul>
<p>The old base page template was implemented using EJS, and while that was okay it did mix markup with code causing a bit of confusion.  The Mahabhuta version is wholly markup, albeit with a bunch of custom tags:</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;!doctype <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-comment">&lt;!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ --&gt;</span>
<span class="hljs-comment">&lt;!--[if lt IE 7]&gt; &lt;html class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;</span>
<span class="hljs-comment">&lt;!--[if IE 7]&gt;    &lt;html class=&quot;no-js lt-ie9 lt-ie8&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;</span>
<span class="hljs-comment">&lt;!--[if IE 8]&gt;    &lt;html class=&quot;no-js lt-ie9&quot; lang=&quot;en&quot;&gt; &lt;![endif]--&gt;</span>
<span class="hljs-comment">&lt;!-- Consider adding a manifest.appcache: h5bp.com/d/Offline --&gt;</span>
<span class="hljs-comment">&lt;!--[if gt IE 8]&gt;&lt;!--&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;no-js&quot;</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span> <span class="hljs-comment">&lt;!--&lt;![endif]--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- Use the .htaccess and remove these lines to avoid edge case issues. More info: h5bp.com/i/378 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-page-title</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-header-metatags</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-sitemapxml</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-siteverification</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-stylesheets</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-headerJavaScript</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-insert-body-content</span>/&gt;</span>
<span class="hljs-comment">&lt;!-- JavaScript at the bottom for fast page loading --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-footerJavaScript</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ak-google-analytics</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Interpolating one of these tags is pretty straight-forward:</p>
<pre><code class="hljs">      <span class="hljs-keyword">if</span> (typeof <span class="hljs-built_in">config</span>.googleSiteVerification !== <span class="hljs-string">&quot;undefined&quot;</span>)
          $(<span class="hljs-string">&apos;ak-siteverification&apos;</span>).replaceWith(
                akasha.partialSync(<span class="hljs-built_in">config</span>, <span class="hljs-string">&quot;ak_siteverification.html.ejs&quot;</span>,
                        { googleSiteVerification: <span class="hljs-built_in">config</span>.googleSiteVerification })
          );
     <span class="hljs-keyword">else</span>
          $(<span class="hljs-string">&apos;ak-siteverification&apos;</span>).<span class="hljs-built_in">remove</span>();
</code></pre>
<p>This will be instantly familiar to any jQuery programmer - look for the custom tag, and <code>replaceWith</code> using some HTML.  The HTML in this case is rendered through an EJS template, and in this case represents the Google Site Verification code.  If no code is available, the custom tag is instead removed.</p>
<p>The other new feature is to rewrite the <code>akashacms-embeddables</code> module to use Mahabhuta tags.  That module is meant to support tools that embed content onto a page - such as YouTube videos, or using the Google Docs viewer (and more recently ViewerJS) to present documents directly on the page.</p>
<p>Until now the Embeddables module required the content be written in either EJS or Kernel template syntax, to access the code in the Embeddables module.  Because the Markdown engine doesn&apos;t support scripting tags, you couldn&apos;t use Embeddables with Markdown.  But now there are two ways to do so.</p>
<p>First, your document file can me named <code>xyzzy.html.md.ejs</code> and you can then use the older tags to access the Embeddables module.  But now you can do this using a custom tag.</p>
<p>Simply name the document file &quot;
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=xyzzy.html.md" style="display: inline-block; padding-right: 2px;" alt="(xyzzy.html.md)">
                    <a href="http://xyzzy.html.md" rel="nofollow" target="_blank">xyzzy.html.md</a>&quot; and then in your Markdown text write something like this:</p>
<pre><code class="hljs"><span class="hljs-symbol">Common</span> use cases for Docker <span class="hljs-meta">include</span>:

* Automating the packaging <span class="hljs-keyword">and </span>deployment of applications
* Creation of lightweight, private PAAS environments
* Automated testing <span class="hljs-keyword">and </span>continuous integration/deployment
* Deploying <span class="hljs-keyword">and </span>scaling web apps, databases <span class="hljs-keyword">and </span><span class="hljs-keyword">backend </span>services

&lt;youtube-video href=<span class="hljs-string">&quot;https://www.youtube.com/watch?v=Q5POuMHxW-0&quot;</span>/&gt;
</code></pre>
<p>(By the way, Docker looks really cool) The 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=webmaster-tips.davidherron.com" style="display: inline-block; padding-right: 2px;" alt="(webmaster-tips.davidherron.com)">
                    <a href="http://webmaster-tips.davidherron.com/development-tools/docker/2014-04-docker-101.html" rel="nofollow" target="_blank">resulting page</a> has a UL with those bullet items, and a video that responsively resizes itself to the screen size.  The responsive behavior is provided for free behind that tag.  I&apos;m hoping to implement attributes that might turn on auto-play, or provide a thumbnail and viewing the video in a lightbox style viewer.</p>
<p>I like how clean this feels.  In the past, embedding a video required this syntax and using the Kernel template engine:</p>
<pre><code class="hljs">{youtubePlayer({ youtubeUrl: <span class="hljs-string">&quot;http://www.youtube.com/watch?v=8_XgHU-F5wE&quot;</span> })}
</code></pre>
<p>Similar changes were made to the syntax of using the Google Docs Viewer, or ViewerJS.  Both are now invoked using a custom tag, and Mahabhuta code behind the scenes.</p>
<p>Behind the scenes, the implementation of the custom tag took some careful thought because retrieving information via oEmbed is an asynchronous task.  To keep sync with Mahabhuta we needed to ensure control returns to Mahabhuta only after all the tags are processed.  Hence:</p>
<pre><code class="hljs">config.mahabhuta.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">config, $, metadata, done</span>) </span>{
    <span class="hljs-comment">// &lt;youtube-video href=&quot;..&quot;/&gt;  TBD: autoplay, thumbnail+lightbox</span>
    <span class="hljs-keyword">var</span> elemsYT = [];
    $(<span class="hljs-string">&apos;youtube-video&apos;</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, elem</span>) </span>{ elemsYT[i] = elem; });
    <span class="hljs-comment">// util.log(util.inspect(elemsYT));</span>
    <span class="hljs-keyword">async</span>.forEachSeries(elemsYT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elemYT, cb</span>) </span>{
        <span class="hljs-comment">// util.log(util.inspect(elemYT));</span>
        akasha.oembedRender({
            <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;youtube-embed.html.ejs&quot;</span>,
            <span class="hljs-attr">url</span>: $(elemYT).attr(<span class="hljs-string">&quot;href&quot;</span>)
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, html</span>) </span>{
            <span class="hljs-keyword">if</span> (err) cb(err);
            <span class="hljs-keyword">else</span> {
                $(elemYT).replaceWith(html);
                cb();
            }
        });
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
        done(err);
    });
});
</code></pre>
<p>We&apos;re first using jQuery&apos;s <code>.each</code> function to retrieve data on all <code>youtube-video</code> tags, and second using async&apos;s <code>forEachSeries</code> function to process each in turn.  Why not just do it all in the <code>.each</code> function?  That&apos;s because we must call <code>done</code> when all the asynchronous processing is finished, and this arrangement ensures we can do so.</p>

    <div class="btn-group blog-prev-next-wrapper" role="group" aria-label="Next/Previous">
    <a class="btn btn-outline-primary blog-prev-link" href="../../2015/02/blog-announce.html" role="button">
    &#xAB;&#xAB;&#xAB;&#xAB;&#xAB;&#xAB; Announcing the Blog &amp; Podcast plugin</a>
    <a class="btn btn-outline-primary blog-next-link" href="mahabhuta-announce.html" role="button">
    <span style="float: right">Major change in AkashaCMS - new model for rendering content, and jQuery as a template engine &#xBB;&#xBB;&#xBB;&#xBB;&#xBB;&#xBB;</span></a>
</div>
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=disqus.com" style="display: inline-block; padding-right: 2px;" alt="(disqus.com)">
                    <a href="https://disqus.com/?ref_noscript" rel="nofollow" target="_blank">comments powered by Disqus.</a></noscript>

                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=disqus.com" style="display: inline-block; padding-right: 2px;" alt="(disqus.com)">
                    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow" target="_blank">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>
  <section id="right" class="col-sm-2">
    
    
<p>

                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=twitter.com" style="display: inline-block; padding-right: 2px;" alt="(twitter.com)">
                    <a href="https://twitter.com/AkashaCMS" rel="me nofollow" class="twitter-follow-button" data-show-count="false" target="_blank">Follow<br>@AkashaCMS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>

<p>
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=www.facebook.com" style="display: inline-block; padding-right: 2px;" alt="(www.facebook.com)">
                    <a href="https://www.facebook.com/Nodejs-Web-Development-116624021765933/" rel="me nofollow" target="_blank">Follow Node.js Web Development on Facebook</a></p>

    
<ul class="list-group">

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL250_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=techsparx-20" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Asynchronous-Node-js-JavaScript-Promises-Generators-ebook/dp/B01N2Z4SOR/ref=as_li_ss_tl?ie=UTF8&amp;qid=1498526267&amp;sr=8-1&amp;keywords=asynchronous+javascript+promises+generators&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=0b8a5dc44c97bf8eb8452dac15ae724b" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/es-2015-16-17-promises-generators-and-async-await-2-1000.jpg" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Creating-eBooks-Markdown-Source-Tools-ebook/dp/B00WTKDH72/ref=as_li_ss_tl?_encoding=UTF8&amp;psc=1&amp;refRID=4SGHASEAZJKJBV0G60R0&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=941071a7b25f067767f82a7b11c06968" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/create-ebook-cover.jpg" width="175"></a>
    </li>

</ul>
  </section>
</div>

<footer class="row" style="text-align: center; height: 100px;">


<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>

</footer>
</div>

<script src="../../../vendor/jquery/jquery.min.js"></script><script src="../../../vendor/popper.js/umd/popper.min.js"></script><script src="../../../vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>



</body>
</html>
