<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">


    <title>AkashaCMS-Embeddables overhaul, huge simplification</title>

<meta name="pagename" content="AkashaCMS-Embeddables overhaul, huge simplification"><meta name="date" content="Fri Jun 30 2017 14:14:52 GMT-0700 (Pacific Daylight Time)"><meta name="DC.title" content="AkashaCMS-Embeddables overhaul, huge simplification"><meta name="og:title" content="AkashaCMS-Embeddables overhaul, huge simplification"><meta name="og:url" content="https://akashacms.com/news/2017/06/embeddables-overhaul.html">
    <link rel="canonical" href="https://akashacms.com/news/2017/06/embeddables-overhaul.html">

<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">


<link rel="stylesheet" type="text/css" href="../../../akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="../../../vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../../../pulse.min.css"><link rel="stylesheet" type="text/css" href="../../../style.css"><link rel="stylesheet" type="text/css" href="../../../vendor/fontawesome-free/css/all.min.css"><link rel="stylesheet" type="text/css" href="../../../vendor/highlight.js/atelier-cave-light.css">



<!-- Facebook app for AkashaCMS fan page -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=234745903279111";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



<!-- Twitter summary card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@akashacms">
<meta name="twitter:creator" content="@7genblogger">

<meta name="twitter:url" content="https://akashacms.com/news/2017/06/embeddables-overhaul.html">


<meta name="twitter:title" content="AkashaCMS-Embeddables overhaul, huge simplification">


<meta name="twitter:image" content="http://akashacms.com/logo.gif">


</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" role="navigation">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav navbar-rights">
          <li class="nav-item">
              <a class="nav-link" href="/index.html">Home</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/akasharender/toc.html">AkashaRender</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/plugins/index.html">Plugins</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/mahabhuta/toc.html">Mahabhuta</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/epubtools/toc.html">EPUB Tools</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/howto/index.html">How To</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/news/index.html">News</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/about.html">About</a>
          </li>
    </ul>
  </div>
</nav>


<div class="container" role="main">
<div class="row">
<header class="col-md-12">
  <div class="row">
    <span class="col-md-8" style="text-align: center;">
      <a href="/index.html"><img src="/logo.gif" align="left"></a>
      <h1 align="center">AkashaCMS-Embeddables overhaul, huge simplification</h1>
    </span>
    <span class="col-md-4">
      <form action="//www.google.com" id="cse-search-box">
        <div>
          <input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="text" name="q" size="30">
          <input type="submit" name="sa" value="Search">
        </div>
      </form>
      <script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
      // Not empty
      </script>
      <br>

    </span>
  </div>

</header>

</div>

<div class="row">
  <section id="breadcrumb" class="col-sm-12">
    <nav aria-label="breadcrumb" id="breadcrumbTrail">
    <ol class="breadcrumb">
     <li class="breadcrumb-item "> <a href="../../../index.html">AkashaCMS - the powerful static file CMS to build your dream website</a> </li> <li class="breadcrumb-item "> <a href="../../index.html">Announcements and News about AkashaCMS</a> </li> <li class="breadcrumb-item "> <a href="../index.html">AkashaCMS News and Announcements for 2017</a> </li> <li class="breadcrumb-item "> <a href="index.html">AkashaCMS News and Announcements for June 2017</a> </li> <li class="breadcrumb-item "> <a href="embeddables-overhaul.html">AkashaCMS-Embeddables overhaul, huge simplification</a> </li>
    </ol>
</nav>

  </section>
  <section id="category-tags" class="col-sm-12">
     Date: June 28, 2017 
  </section>
  <section id="author-byline" class="col-sm-12">
    <div class="author-byline" itemprop="author" itemscope itemtype="http://schema.org/Person">
By <span itemprop="name" class="author-name-wrapper"><a href="../../../about.html" rel="author" itemprop="url">David Herron</a></span>
</div>

  </section>
</div>

<div class="row">
  <article class="col-sm-10">
    <p><strong><p><strong><p>The <em>akashacms-embeddables</em> plugin has long been a sore thumb, being overly complicated in part because of the wide variety of methods for embedding content from other sites.  It may seem utterly simple when you paste a URL into a Facebook or Twitter status message, or a Wordpress blog post, and voila the embedded HTML snippet automatically pops up.  Under the covers certain kinds of magic is done with oEmbed and OpenGraph protocols.  A couple years ago when I started the <em>akashacms-embeddables</em> plugin that stuff either was immature, or I didn&apos;t understand it, or didn&apos;t know about it, or something, but the initial versions of the plugin didn&apos;t take advantage of those protocols, and instead had lots of special casing and hard-coded understanding of how to construct a Twitter <em>iframe</em>.</p>

<p>Now that the new AkashaRender-based system is published, I wanted to take the opportunity to clean up the <em>akashacms-embeddables</em> plugin.  I&apos;ve found a pair of packages that make retrieving oEmbed and OpenGraph data very nice and easy.</p>
</strong></p>
</strong></p> 
    <p>The overhaul of <em>akashacms-embeddables</em> landed in version 0.6.2</p>
<p>After a fair amount of study of packages in npm related to oEmbed and OpenGraph, I have these observations:</p>
<ul>
<li>The <em>oembetter</em> package seems to be the best of those that perform oEmbed lookups.</li>
<li>The <em>url-embed</em> and <em>Metaphor</em> packages claim to search out all kinds of extra information and jump high hurdles for you.  I&apos;m not impressed.  With a <code>slideshare.net</code> URL, <em>url-embed</em> failed to get useful information.  With the <em>Metaphor</em> package, the data object is interesting but in the end not useful.</li>
<li>The <em>meta-extractor</em> package does a great job of extracting metadata from OpenGraph and Twitter Cards metadata.</li>
</ul>
<p>But, you&apos;re asking, what does this mean for using the <em>akashacms-embeddables</em> plugin?  Glad you asked.</p>
<p>The embedding functionality has been boiled down to one custom tag:</p>
<pre><code class="hljs">&lt;embed-resource <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;https://twitter.com/AkashaCMS/status/565602061681971200&quot;</span>/&gt;
</code></pre>
<p>Which renders as so:</p>
<div class="embed-responsive embed-responsive-16by9">
    <blockquote class="twitter-tweet blockquote"><p lang="en" dir="ltr">Looking forward to AkashaCMS 0.5.x work 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=t.co" style="display: inline-block; padding-right: 2px;" alt="(t.co)">
                    <a href="http://t.co/f8oyUDitc7" rel="nofollow" target="_blank">http://t.co/f8oyUDitc7</a></p>&#x2014; Akasha CMS (@AkashaCMS) 
                    <img class="akashacms-external-links-favicon opengraph-no-promote" src="https://www.google.com/s2/favicons?domain=twitter.com" style="display: inline-block; padding-right: 2px;" alt="(twitter.com)">
                    <a href="https://twitter.com/AkashaCMS/status/565602061681971200?ref_src=twsrc%5Etfw" rel="nofollow" target="_blank">February 11, 2015</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

</div>





<p>This custom tag works for any URL for which oEmbed and/or OpenGraph returns data.  The algorithm consults oEmbed, OpenGraph and Twitter Cards for metadata.  Between those three sources lots of data is available.</p>
<p>The old <em>akashacms-embeddables</em> had a couple dozen custom tags each embedding specific things.  As they say, one should strive to make things as simple as possible, and no simpler than that.  How do we handle those dozens of use-cases with one custom tag?</p>
<ol>
<li>The custom tag produces a regularized set of data</li>
<li>The custom tag takes a <code>template=</code> attribute letting you customize what the custom tag does</li>
</ol>
<p>That last bit is key.  Have a specific need?  Use a different template.</p>
<p>With no <code>template=</code> attribute the <code>embed-resource</code> does what had been implemented in the <code>simple-embed</code> custom tag, which is to simply output the HTML embed code retrieved by oEmbed.  The <code>twitter-embed</code> and <code>slideshare-embed</code> tags had simply done that, for example, raising the question of why we had separate custom tags for those two sources.  Why not present one API in the <code>embed-resource</code> tag?</p>
<p>With the <code>embed-resource-framed.html.ejs</code> template, <code>embed-resource</code> performs what had been the <code>framed-embed</code> tag.  This template displays extra information such as the <em>description</em> or <em>title</em>.  Another template, <code>embed-thumbnail.html.ejs</code>, replaces the <code>embed-thumbnail</code> and <code>youtube-thumbnail</code> and <code>vimeo-thumbnail</code> tags, and simply displays the image announced via oEmbed/OpenGraph data.</p>
<p>You&apos;re of course free to implement your desired template.  What you need to know is the data that&apos;s provided.</p>
<p>Rather than replicate the documentation here, see: <a href="../../../plugins/embeddables/index.html" title="AskashaCMS Embeddables plugin documentation">AskashaCMS Embeddables plugin documentation</a></p>

    <div class="btn-group blog-prev-next-wrapper" role="group" aria-label="Next/Previous">
    <a class="btn btn-outline-primary blog-prev-link" href="../07/external-links.html" role="button">
    &#xAB;&#xAB;&#xAB;&#xAB;&#xAB;&#xAB; Published AkashaCMS-External-Links, adding &quot;rel=nofollow&quot; and icons to outbound links</a>
    <a class="btn btn-outline-primary blog-next-link" href="akashacms2akasharender.html" role="button">
    <span style="float: right">Massive change, AkashaCMS is gone, replaced with AkashaRender &#xBB;&#xBB;&#xBB;&#xBB;&#xBB;&#xBB;</span></a>
</div>
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>
  <section id="right" class="col-sm-2">
    
    
<p>
<a href="https://twitter.com/AkashaCMS" rel="me nofollow" class="twitter-follow-button" data-show-count="false">Follow<br>@AkashaCMS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</p>

<p><a href="https://www.facebook.com/Nodejs-Web-Development-116624021765933/" rel="me nofollow">Follow Node.js Web Development on Facebook</a></p>

    
<ul class="list-group">

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL250_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=techsparx-20" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Asynchronous-Node-js-JavaScript-Promises-Generators-ebook/dp/B01N2Z4SOR/ref=as_li_ss_tl?ie=UTF8&amp;qid=1498526267&amp;sr=8-1&amp;keywords=asynchronous+javascript+promises+generators&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=0b8a5dc44c97bf8eb8452dac15ae724b"><img border="0" src="https://techsparx.com/nodejs/img/es-2015-16-17-promises-generators-and-async-await-2-1000.jpg" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Creating-eBooks-Markdown-Source-Tools-ebook/dp/B00WTKDH72/ref=as_li_ss_tl?_encoding=UTF8&amp;psc=1&amp;refRID=4SGHASEAZJKJBV0G60R0&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=941071a7b25f067767f82a7b11c06968"><img border="0" src="https://techsparx.com/nodejs/img/create-ebook-cover.jpg" width="175"></a>
    </li>

</ul>
  </section>
</div>

<footer class="row" style="text-align: center; height: 100px;">
<!-- partial file-name="ebook-footer.html"/ -->

<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>

</footer>
</div>

<script src="../../../vendor/jquery/jquery.min.js"></script><script src="../../../vendor/popper.js/umd/popper.min.js"></script><script src="../../../vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- partial file-name="piwik_analytics.html"></partial -->


</body>
</html>
