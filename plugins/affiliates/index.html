<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">


    <title>AskashaCMS Affiliate-Link generator documentation</title>





 
 
 
 













<meta name="pagename" content="AskashaCMS Affiliate-Link generator documentation">









<meta name="date" content="Sat Oct 26 1985 01:15:00 GMT-0700 (Pacific Daylight Time)">

<meta name="DC.title" content="AskashaCMS Affiliate-Link generator documentation">














<!-- OpenGraph Meta Tags -->

<meta name="og:title" content="AskashaCMS Affiliate-Link generator documentation">

<meta name="og:url" content="https://akashacms.com/plugins/affiliates/index.html">


































<link rel="canonical" href="https://akashacms.com/plugins/affiliates/index.html">

<link rel="sitemap" type="application/xml" title="Sitemap" href="../../sitemap.xml">


<link rel="stylesheet" type="text/css" href="../../akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="../../vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="../../pulse.min.css"><link rel="stylesheet" type="text/css" href="../../style.css"><link rel="stylesheet" type="text/css" href="../../vendor/fontawesome-free/css/all.min.css"><link rel="stylesheet" type="text/css" href="../../vendor/highlight.js/styles/tomorrow-night-blue.css">



<!-- Facebook app for AkashaCMS fan page -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=234745903279111";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



<!-- Twitter summary card -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@akashacms">
<meta name="twitter:creator" content="@7genblogger">

<meta name="twitter:url" content="https://akashacms.com/plugins/affiliates/index.html">


<meta name="twitter:title" content="AskashaCMS Affiliate-Link generator documentation">


<meta name="twitter:image" content="http://akashacms.com/logo.gif">


</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" role="navigation">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav navbar-rights">
          <li class="nav-item">
              <a class="nav-link" href="../../index.html">Home</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../akasharender/toc.html">AkashaRender</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../index.html">Plugins</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../mahabhuta/toc.html">Mahabhuta</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../epubtools/toc.html">EPUB Tools</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../howto/index.html">How To</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../news/index.html">News</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="../../about.html">About</a>
          </li>
    </ul>
  </div>
</nav>


<div class="container" role="main">
<div class="row">
<header class="col-md-12">
  <div class="row">
    <span class="col-md-8" style="text-align: center;">
      <a href="../../index.html"><img src="../../logo.gif" align="left"></a>
      <h1 align="center">AskashaCMS Affiliate-Link generator documentation</h1>
    </span>
    <span class="col-md-4">
      <form action="//www.google.com" id="cse-search-box">
        <div>
          <input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="text" name="q" size="30">
          <input type="submit" name="sa" value="Search">
        </div>
      </form>
      <script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
      // Not empty
      </script>
      <br>

    </span>
  </div>

</header>

</div>

<div class="row">

<div class="row">
  <section id="breadcrumb" class="col-sm-12">
    <nav aria-label="breadcrumb" id="breadcrumbTrail">
    <ol class="breadcrumb">
     <li class="breadcrumb-item "> <a href="../../index.html">AkashaCMS - the powerful static file CMS to build your dream website</a> </li> <li class="breadcrumb-item "> <a href="../index.html">AkashaCMS plugin directory</a> </li> <li class="breadcrumb-item "> <a href="index.html">AskashaCMS Affiliate-Link generator documentation</a> </li>
    </ol>
</nav>

  </section>
</div>

<div class="row">
  <article class="col-sm-10">
    
    <p>Affiliate Marketing is a common way to monetize a website.  The concept is simple, you make a specially constructed link to a product on a merchants website, and if a visitor clicks through that link then buys the product you get a commission.  It&apos;s possible to have a product catalog of items you recommend to your readers, without having to stock a warehouse, handle order fulfillment, and all the other details involved with selling stuff.</p>
<p>The <code>akashacms-affiliates</code> plugin simplifies the task of maintaining a list of products where you have affiliate links.</p>
<h1>Installation</h1>
<p>With an AkashaCMS website setup, add the following to <code>package.json</code></p>
<pre><code class="hljs">  <span class="hljs-string">&quot;dependencies&quot;</span>: {
    <span class="hljs-string">...</span>
    <span class="hljs-string">&quot;akashacms-affiliates&quot;</span>: <span class="hljs-string">&quot;akashacms/akashacms-affiliates&quot;</span>
    <span class="hljs-string">...</span>
  }
</code></pre>
<p>I haven&apos;t decided to publish this plugin to <code>npm</code> yet.  Instead, at the moment, one should access it as shown here from the Github repository.</p>
<p>Once added to <code>package.json</code> run: <code>npm install</code></p>
<h1>Configuration</h1>
<p>In <code>config.js</code> for the website:</p>
<pre><code class="hljs"><span class="hljs-built_in">config</span>.use(<span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;akashacms-affiliates&apos;</span>));

<span class="hljs-built_in">config</span>.plugin(<span class="hljs-string">&quot;akashacms-affiliates&quot;</span>)
    .amazonAffiliateCode(<span class="hljs-built_in">config</span>, <span class="hljs-string">&apos;com&apos;</span>, <span class="hljs-string">&apos;YOUR AMAZON AFFILIATE CODE&apos;</span>)
    .loadAffiliateProducts(<span class="hljs-built_in">config</span>, <span class="hljs-string">&apos;affiliate-products.yml&apos;</span>);
</code></pre>
<p>The first line of course loads the plugin code.  Then, you configure the plugin by calling the methods.</p>
<p>With <code>amazonAffiliateCode</code> you declare your Amazon affiliate code for the given country code.  The country codes supported are as so:</p>
<ul>
<li><code>com</code> USA</li>
<li><code>ca</code> Canada</li>
<li><code>co-jp</code> Japan</li>
<li><code>co-uk</code> United Kingdom</li>
<li><code>de</code> Germany</li>
<li><code>es</code> Spain</li>
<li><code>fr</code> France</li>
<li><code>it</code> Italy</li>
</ul>
<p>The country code is used in several ways.  Amazon gives you a different affiliate ID for each country in which you form an affiliate relationship.  It&apos;s necessary for the plugin to know which affiliate ID to use depending on the country code of the product.</p>
<p>With <code>loadAffiliateProducts</code> you load product data from a YAML file.  The file is described below.</p>
<h1>Custom elements</h1>
<h2>Render full information about an affiliate product</h2>
<p>With <code>&lt;affiliate-product&gt;</code> you can easily show the information block about an affiliate product.  The simplest use is this:</p>
<pre><code class="hljs">&lt;affiliate-product <span class="hljs-attribute">productid</span>=<span class="hljs-string">&quot;B003D6F5HQ&quot;</span>/&gt;
</code></pre>
<p>The <code>productid</code> parameter references the <code>productid</code> of an affiliate product.  The data is rendered through a template, and the default partial template is <code>affiliate-product.html.ejs</code>.  If you wish to use a different partial template, specify that with the <code>template</code> attribute.</p>
<h2>Linking to an affiliate product from elsewhere on the site</h2>
<p>Sometimes you want to have a link from several places to a specific page holding the full affiliate product description.  For example you might have one or more &quot;catalog&quot; pages listing items of a given type.  Then elsewhere on the site, you might want to link to a specific item on one of these catalog pages.</p>
<pre><code class="hljs">&lt;affiliate-product-link <span class="hljs-attribute">productid</span>=<span class="hljs-string">&quot;0914955748&quot;</span> <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;
</code></pre>
<p>This references an affiliate product using the same <code>productid</code> attribute.  The <code>type</code> attribute specifies whether to show an information card (the thumbnail and link), using the <code>card</code> value, or just a link, using the <code>link</code> value.</p>
<p>For the <code>card</code> link, there is a default partial template named <code>affiliate-product-link-card.html.ejs</code>.  You can specify a different partial template with the <code>template</code> attribute.</p>
<p>To support this feature, the affiliate product must have an <code>href</code> attribute.  That attribute contains the <code>href</code> of the page that is to be linked to.</p>
<h2>Amazon &quot;buy&quot; buttons</h2>
<p>It&apos;s possible to put a &quot;buy&quot; button that automatically adds the product to the users Amazon shopping cart.  There are some benefits to doing this.</p>
<p>There are several custom elements corresponding to the country codes.</p>
<ul>
<li><code>amazon-ca-buy</code> Canada</li>
<li><code>amazon-co-jp-buy</code> Japan</li>
<li><code>amazon-co-uk-buy</code> United Kingdom</li>
<li><code>amazon-com-buy</code> USA</li>
<li><code>amazon-de-buy</code> Germany</li>
<li><code>amazon-es-buy</code> Spain</li>
<li><code>amazon-fr-buy</code> France</li>
<li><code>amazon-it-buy</code> Italy</li>
</ul>
<p>The <code>asin</code> attribute specifies the Amazon product ID.  The <code>affcode</code> attribute lets you override the affiliate ID you might have registered for the country code using the <code>amazonAffiliateCode</code> method.  The <code>template</code> attribute overrides the default partial template.</p>
<p>The default templates are of course as so:</p>
<ul>
<li><code>amazon-ca-buy.html.ejs</code> Canada</li>
<li><code>amazon-co-jp-buy.html.ejs</code> Japan</li>
<li><code>amazon-co-uk-buy.html.ejs</code> United Kingdom</li>
<li><code>amazon-com-buy.html.ejs</code> USA</li>
<li><code>amazon-de-buy.html.ejs</code> Germany</li>
<li><code>amazon-es-buy.html.ejs</code> Spain</li>
<li><code>amazon-fr-buy.html.ejs</code> France</li>
<li><code>amazon-it-buy.html.ejs</code> Italy</li>
</ul>
<h1>Affiliate product YAML file</h1>
<p>The function <code>config.plugin(&quot;akashacms-affiliates&quot;).affiliateProduct(config, productid, data)</code> will load a single product into the list of affiliate products.  As a convenience you can create a YAML file containing a whole list of affiliate products.  That file is loaded using the <code>loadAffiliateProducts(config, &apos;affiliate-products.yml&apos;)</code> as we said earlier.</p>
<p>When loaded, a top level attribute <code>products</code> is looked for.  That attribute is interpreted as an array, each element of the array is added using the <code>affiliateProduct</code> method.</p>
<p>This object contains several fields describing attributes of the affiliate product.</p>
<p>The <code>productid</code> mentioned earlier is held in the <code>code</code> attribute of the object.</p>
<p>The <code>anchorName</code> and <code>href</code> attributes are used by the <code>affiliate-product-link</code> element mentioned earlier.</p>
<p>The <code>productname</code> attribute is, as implied, the name of the product.  The <code>productbuyurl</code> attribute is the primary link to use through which the visitor should buy the product.  The <code>productimgurl</code> attribute is the image to show the visitor.  The <code>productrel</code> attribute contains the <code>rel=</code> string to use in links to the product.  It is common to use <code>rel=&quot;nofollow&quot;</code> since the search engines have started to be strict about whether links with commercial gain should grant page ranking.</p>
<p>The <code>productdescription</code> is your description of the product.  This can be a simple string, or it can be a long text field if you use YAML notation as so:</p>
<pre><code class="hljs">    productdescription: |
        &lt;p&gt;This <span class="hljs-keyword">is</span> a <span class="hljs-built_in">paragraph</span> <span class="hljs-keyword">of</span> <span class="hljs-built_in">text</span>&lt;/p&gt;

        &lt;p&gt;This <span class="hljs-keyword">is</span> another <span class="hljs-built_in">paragraph</span> <span class="hljs-keyword">of</span> <span class="hljs-built_in">text</span>&lt;/p&gt;

        &lt;p&gt;This <span class="hljs-keyword">is</span> yet another <span class="hljs-built_in">paragraph</span> <span class="hljs-keyword">of</span> <span class="hljs-built_in">text</span>&lt;/p&gt;
</code></pre>
<p>If you want Amazon &quot;Buy&quot; buttons, the <code>productamzn</code> attribute lists the country code and ASIN to use.  It is interpreted as an array, so that you can have multiple buttons.</p>
<p>A full example is :-</p>
<pre><code class="hljs">    - code: <span class="hljs-string">&quot;0914955756&quot;</span>
      anchorName: <span class="hljs-string">&quot;HayashiReikiManual&quot;</span>
      href: <span class="hljs-string">&quot;/catalog/reiki-books.html&quot;</span>
      productname: <span class="hljs-string">&quot;The Hayashi Reiki Manual: Traditional Japanese Healing Techniques from the Founder of the Western Reiki System&quot;</span>
      productbuyur<span class="hljs-variable">l:</span> <span class="hljs-string">&quot;https://www.amazon.com/gp/product/0914955756/ref=as_li_ss_tl?ie=UTF8&amp;linkCode=ll1&amp;tag=thereikipage&amp;linkId=d768039933d1748bcfd8451451c4fd75&quot;</span>
      productimgur<span class="hljs-variable">l:</span> <span class="hljs-string">&quot;https://images-na.ssl-images-amazon.com/images/I/517RlA0bwfL.jpg&quot;</span>
      productre<span class="hljs-variable">l:</span> <span class="hljs-string">&quot;nofollow noskim&quot;</span>
      productdescription: |
          <span class="hljs-symbol">&lt;p&gt;</span>In this book Frank Arjava Petter turns <span class="hljs-keyword">to</span> Dr. Hayashi<span class="hljs-string">&apos;s method for teaching Reiki.  It not only contains Dr. Hayashi&apos;</span>s story, but <span class="hljs-keyword">an</span> English translation of Hayashi<span class="hljs-string">&apos;s Ryoho Shishin.  Co-written by Frank Arjava Petter and Tadao Yamaguchi, it contains historical information of Hayashi and other teachers in his lineage.  Yamaguchi-san&apos;</span>s family <span class="hljs-built_in">has</span> practiced Reiki in Japan since learning it from Hayashi-<span class="hljs-keyword">san</span>.&lt;/<span class="hljs-keyword">p</span>&gt;

          <span class="hljs-symbol">&lt;p&gt;</span>Original documents are included written by Hayashi, <span class="hljs-built_in">and</span> it contains <span class="hljs-keyword">a</span> <span class="hljs-built_in">complete</span> translation of <span class="hljs-keyword">his</span> manual.&lt;/<span class="hljs-keyword">p</span>&gt;
      productamzn:
        - <span class="hljs-built_in">asin</span>: <span class="hljs-string">&quot;0914955756&quot;</span>
          countryCode: <span class="hljs-keyword">com</span>
</code></pre>
<p>It is important to put quotes around the <code>code</code> and <code>asin</code> attributes.  Valid Amazon ASIN&apos;s includes numerical strings that can look like an octal number.  If a particular ASIN starts with <code>0</code> and then contains digits between <code>0</code> and <code>7</code> then the YAML parser will interpret that product ID as an octal number, leading you to scratching your head and muttering about what the ____ is going on.  It&apos;s simple to just put quotes around those attributes so that YAML doesn&apos;t help you by interpreting a product ID as an octal number.</p>

  </article>
  <section id="right" class="col-sm-2">
    
    
<ul class="list-group">

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL250_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=techsparx-20" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Asynchronous-Node-js-JavaScript-Promises-Generators-ebook/dp/B01N2Z4SOR/ref=as_li_ss_tl?ie=UTF8&amp;qid=1498526267&amp;sr=8-1&amp;keywords=asynchronous+javascript+promises+generators&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=0b8a5dc44c97bf8eb8452dac15ae724b" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/es-2015-16-17-promises-generators-and-async-await-2-1000.jpg" width="175"></a>
    </li>

    <li class="list-group-item">
        <a rel="nofollow noskim" href="https://www.amazon.com/Creating-eBooks-Markdown-Source-Tools-ebook/dp/B00WTKDH72/ref=as_li_ss_tl?_encoding=UTF8&amp;psc=1&amp;refRID=4SGHASEAZJKJBV0G60R0&amp;linkCode=ll1&amp;tag=techsparx-20&amp;linkId=941071a7b25f067767f82a7b11c06968" target="_blank"><img border="0" src="https://techsparx.com/nodejs/img/create-ebook-cover.jpg" width="175"></a>
    </li>

</ul>
  </section>
</div>

</div>

<footer class="row" style="text-align: center; height: 100px;">
<!-- partial file-name="ebook-footer.html"/ -->

<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>

</footer>
</div>

<script src="../../vendor/jquery/jquery.min.js"></script><script src="../../vendor/popper.js/umd/popper.min.js"></script><script src="../../vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- partial file-name="piwik_analytics.html"></partial -->


</body>
</html>
