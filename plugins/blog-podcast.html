<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width">
<title>Blog &amp; Podcast support</title>
<meta name="pagename" content="Blog &amp; Podcast support">
<meta name="date" content="Wed May 11 2016 23:12:46 GMT-0700 (PDT)">
<meta name="DC.title" content="Blog &amp; Podcast support">
<meta name="og:title" content="Blog &amp; Podcast support">
<meta name="og:url" content="https://akashacms.com/plugins/blog-podcast.html">
<link rel="canonical" href="https://akashacms.com/plugins/blog-podcast.html">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="stylesheet" type="text/css" href="/akasha/epub-website/style.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/vendor/bootstrap/css/bootstrap-theme.min.css"><link rel="stylesheet" type="text/css" href="/readable.min.css"><link rel="stylesheet" type="text/css" href="/style.css">
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=234745903279111";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@akashacms">
<meta name="twitter:creator" content="@7genblogger">
<meta name="twitter:url" content="https://akashacms.com/plugins/blog-podcast.html">
<meta name="twitter:title" content="Blog &amp; Podcast support">
<meta name="twitter:image" content="http://akashacms.com/logo.gif">
</head>
<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
<button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<div class="navbar-collapse collapse navHeaderCollapse">
<ul class="nav navbar-nav navbar-rights">
<li><a href="/index.html">Home</a></li>
<li><a href="/install.html">Installation</a></li>
<li><a href="/configuration/index.html">Configuration</a></li>
<li><a href="/documents/index.html">Documents</a></li>
<li><a href="/plugins/index.html">Plugins</a></li>
<li><a href="/plugins/epub.html">AkashaEPUB</a></li>
<li><a href="/layout/index.html">Layouts</a></li>
<li><a href="/theming/index.html">Theming</a></li>
<li><a href="/deployment/index.html">Deployment</a></li>
<li><a href="/command-line/index.html">Command Line</a></li>
<li><a href="/howto/index.html">Tutorials</a></li>
<li><a href="/news/index.html">Blog</a></li>
<li><a href="/about.html">About</a></li>
</ul>
</div>
</div>
<div class="container" role="main">
<div class="row">
<header class="col-md-12">
<div class="row">
<span class="col-md-8" style="text-align: center">
<a href="/index.html"><img src="/logo.gif" align="left"></a>
<h1 align="center">Blog &amp; Podcast support</h1>
</span>
<span class="col-md-4">
<form action="//www.google.com" id="cse-search-box">
<div>
<input type="hidden" name="cx" value="partner-pub-2401070691062219:4564101022">
<input type="hidden" name="ie" value="UTF-8">
<input type="text" name="q" size="30">
<input type="submit" name="sa" value="Search">
</div>
</form>
<script type="text/javascript" src="//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en">
// Not empty
</script>
<br>
</span>
</div>
</header>
</div>
<div class="row">
<div class="col-md-10">
<div class="row">
<section id="breadcrumb" class="col-sm-12">
<div id="breadcrumbTrail">
<ol class="breadcrumb">
<li> <a href="/index.html">AkashaCMS - the powerful static file CMS to build your dream website</a> </li> <li> <a href="/plugins/index.html">AkashaCMS plugin directory</a> </li> <li> <a href="/plugins/blog-podcast.html">Blog &amp; Podcast support</a> </li>
</ol>
</div>
</section>
<section id="category-tags" class="col-sm-12">
By: <author-link></author-link> Date: Feb 10, 2015
</section>
</div>
<div class="row">
<article class="col-sm-10">
<p>Blogging (and podcasting) are common uses for websites. The <code>akashacms-blog-podcast</code> plugin is an initial attempt to support that use case.</p>
<p>To install add <code>akashacms-blog-podcast</code> to the site <code>package.json</code> and then type &quot;npm install&quot;. After that, in the <code>config</code> function in your <code>config.js</code> add this to the <code>registerPlugins</code> statement.</p>
<pre><code>akasha.registerPlugins(module.exports, [
    ...
    { name: &apos;akashacms-blog-podcast&apos;, plugin: require(&apos;akashacms-blog-podcast&apos;) },
    ...
]);
</code></pre>
<p>Before starting to configure the plugin, let&apos;s discuss the principles.</p>
<p>The <code>akashacms-blog-podcast</code> plugin supports multiple blogs on an AkashaCMS website. It&apos;s just a matter of adding enough configuration information to <code>config.js</code>, one set of data per blog.</p>
<p>The plugin is designed around the notion that a blog is simply a website with an RSS feed, and with an index page where the items are presented in reverse chronological order. There&apos;s nothing magical about a blog, and at the core the presentation of items in reverse chronological order is the essence of every blogging platform.</p>
<p>We define which pages belong to a blog, and which blog to which the pages belong, using a Matcher object. It&apos;s very unlikely that every page on an AkashaCMS site would be part of any blog hosted on the site. And, to support multiple blogs per site, it&apos;s necessary to clearly define which blog a posting belongs to.</p>
<p>Matcher objects let us select a subset of the documents on the site based on parameters in the Matcher. Each blog has a Matcher, defining the parameters which define what pages belong to the blog.</p>
<p>The <a href="/news/index.html">Announcements and News</a> portion of this website is built using this plugin.</p>
<p>In <code>config.js</code> define this object to hold the module configuration:</p>
<pre><code>blogPodcast: {
    ...
}
</code></pre>
<p>Each blog is defined by an object within this, for example:</p>
<pre><code>blogPodcast: {
	&quot;news&quot;: {
		rss: {
            .... RSS parameters
		},
		rssurl: &quot;/news/rss.xml&quot;,
		matchers: {
			layouts: [ &quot;article.html.ejs&quot; ],
			path: /^news\//
		}
	}
},
</code></pre>
<p>This defines a blog named <code>news</code>. The matcher says that files using the <code>article.html.ejs</code> layout and whose path begins with <code>news/</code> are part of the blog.</p>
<p>While you could simply put documents within the <code>news/</code> directory, after awhile you&apos;ll find a large number of postings piling up and the directory might become unweildy. The News blog on this site uses a directory structure under the <code>news/</code> directory such that documents in the <code>news/2015/02</code> directory were created in February 2015, and so on. It&apos;s up to you what you do. The <code>path</code> matcher will retrieve every document whose pathname matches the regular expression.</p>
<p>The RSS parameters section are as documented for the <a href="https://www.npmjs.com/package/rss">RSS package</a>. They define the content in the main body of the RSS feed.</p>
<p>Adding Podcast support appears to simply require specifying the custom parameters, as is shown on the package page, but that hasn&apos;t yet been tested. Remember that a Podcast is simply an RSS feed with additional media elements and enclosure tags.</p>
<p>The <code>rssurl</code> parameter specifies where, within the rendered website, the RSS file will be installed. It also is used in a couple places as a URL. It must start with a &apos;/&apos; and therefore be relative to the website root directory.</p>
<p>At this point you have a page layout (or multiple page layouts) for blog entries, and have defined which pages on the site are included in the blog. The next step is the index page for the blog.</p>
<p>You can create a file in layouts, <code>layouts/index-blog.html.ejs</code> containing something like this:</p>
<pre><code>---
layout: default.html.ejs
---
&lt;%- content %&gt;
&lt;blog-news-river&gt;&lt;/blog-news-river&gt;
</code></pre>
<p>The layout specified here should define the overall page layout. You should already have such a layout file on the site.</p>
<p>The main key is the <code>&lt;blog-news-river&gt;&lt;/blog-news-river&gt;</code> tag, which invokes code in the <code>akashacms-blog-podcast</code> plugin.</p>
<p>Next create a page that will be the index for the blog, for example <code>news/index.html.md</code>, containing something like this:</p>
<pre><code>---
layout: index-blog.html.ejs
title: Announcements and News about AkashaCMS
blogtag: news
---
</code></pre>
<p>This is rendered with the <code>index-blog.html.ejs</code> layout we just defined.</p>
<p>The <code>blogtag</code> tag in the frontmatter defines which blog definition to use. The <code>blog-news-river</code> tag looks for the <code>blogtag</code> value, to look up the blog configuration.</p>
<p>With the blog configuration, the <code>blog-news-river</code> tag will use the defined Matchers to select the items, sort them into reverse chronological order, and render both an RSS feed and the index page. The index page is rendered using the partial <code>blog-news-river.html.ejs</code>.</p>
<p>Adding a <code>maxentries</code> attribute to <code>blog-news-river</code> limits the number of entries in the index, and the RSS feed, to the number given in the attribute. If the attribute is not added both the index and RSS feed will get every item.</p>
<h2>Previous/Next links among the blog posts</h2>
<p>Some blogs like to have each blog post link to the next &amp; previous entries in the blog.</p>
<p>It is likely the <code>blog-news-river</code> tag will need to limit the number of items it puts in the blog index. The question is, what&apos;s the best way to still link to all items in the blog? On most blogging systems, the river-of-news index extends over multiple pages, and you click through to page 2, page 3, etc. In some other blogging systems as the user scrolls to the bottom of the page an AJAX query retrieves the next block of items appending them to the bottom of the page, giving the illusion of infinite scrolling in an infinitely long page.</p>
<p>Another option beyond multiple index pages and illusory infinite scrolling is ... previous/next links in the blog posts. The navigation to traverse all blog entries is to go to the blog post, then repeatedly click on the link to the previous post. Or, going to the first post you click on the &quot;previous&quot; link and you&apos;re taken to the last post on the blog at which point you can keep clicking on the appropriate link and visit the next post.</p>
<p>If any of this sounds interesting, in the layout used for blog posts add:</p>
<pre><code>&lt;blog-next-prev&gt;&lt;/blog-next-prev&gt;
</code></pre>
<p>This tag is rendered using the partial: <code>blog-next-prev.html.ejs</code></p>
<h2>Podcasting?</h2>
<p>As noted above, the RSS package claims to support Podcasting by adding some custom data elements. This hasn&apos;t been tested, yet.</p>
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'akashacms'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
<section id="right" class="col-sm-2">
</section>
</div>
</div>
<div class="col-md-2">
<p>AkashaCMS developed by the author of <a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086">Node Web Development</a>
</p>
<a rel="nofollow noskim" href="https://www.amazon.com/gp/product/1785881507/ref=as_li_ss_il?ie=UTF8&amp;fpl=fresh&amp;pf_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=&amp;pf_rd_r=6C1SVA4RRTWPTY7VN1Z2&amp;pf_rd_t=36701&amp;pf_rd_p=14bf09e4-93c8-43ff-8639-e7979e7d1787&amp;pf_rd_i=desktop&amp;linkCode=li2&amp;tag=davidherron-20&amp;linkId=1a83c9a47355206fbe8622bf9e90b086" target="_blank"><img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1785881507&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=davidherron-20"></a>
<span class="st_sharethis" st_title="Blog &amp; Podcast support">
<span class="st_tumblr_large"></span><span class="st_stumbleupon_large"></span><span class="st_care2_large"></span><span class="st_twitter_large"></span><span class="st_facebook_large"></span><span class="st_yahoo_large"></span><span class="st_blogger_large"></span><span class="st_sharethis_large"></span>
</span>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">
stLight.options({
    
    
    
    
    
    
    
    publisher:'c828d855-27af-4910-b7a5-2b9b14030895'
});
</script>
<a href="http://www.reddit.com/submit" onclick="window.location = &apos;http://www.reddit.com/submit?url=&apos; + encodeURIComponent(window.location); return false"> <img src="http://www.reddit.com/static/spreddit7.gif" alt="submit to reddit" border="0"> </a>
<script type="text/javascript">
(function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js?onload=onLoadCallback';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<g:plusone></g:plusone>
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<a href="https://twitter.com/AkashaCMS" rel="me nofollow" class="twitter-follow-button" data-show-count="false">Follow<br>@AkashaCMS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
</div>
<footer class="row" style="text-align: center; height: 100px">
<div class="fb-like-box" data-href="http://www.facebook.com/Akashacms" data-width="125" data-height="250" data-show-faces="false" data-stream="false" data-header="true"></div>
</footer>
</div>
<script src="/vendor/jquery/jquery.min.js"></script><script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37003917-1']);
  _gaq.push(['_setDomainName', 'akashacms.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
